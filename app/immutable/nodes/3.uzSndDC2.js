import{s as He,n as Ie,o as Oe,d as Be,e as de,f as Pe,r as Ge}from"../chunks/scheduler.DDstejZ8.js";import{S as ze,i as Ue,e as E,s as R,t as A,c as C,a as O,f as w,b as H,d as u,o as _,g as D,h as n,y as pe,j as ae,z as ue,A as le,B as Le}from"../chunks/index.zuC-VyZB.js";import{e as Te}from"../chunks/each.D6YF6ztN.js";import{i as Se}from"../chunks/store.TOs4AyKa.js";const he=[{id:1,name:"Demon",img:"demon_creature.png",hp:60,attack:50,attackName:"Slash",attackType:"Normal",speed:60,defense:20,critical:25,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Harvest",specialType:"Lifesteal",specialEffect:"special-effect-1"},{id:2,name:"Lizard",img:"lizard_creature.png",hp:110,attack:30,attackName:"Impale",attackType:"Normal",speed:30,defense:15,critical:15,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Inject",specialType:"Poison",specialEffect:"special-effect-2"}],be=[{id:1,name:"Gust of Hermes",img:"relic1.png",description:"Grants the user's summon +5 speed while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:5,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:0},{id:2,name:"Spark of Zeus",img:"relic2.png",description:"Grants the user's summon +15 attack while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:15,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:150},{id:3,name:"Cup of Dionysus",img:"relic3.png",description:"Grants the user's summon +25 MP regen while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:25,specialMod:0,price:300}],_e=[{id:1,name:"Demon",img:"demon_creature.png",reward:3,hp:60,attack:50,attackType:"Normal",speed:60,defense:20,critical:25},{id:2,name:"Lizard",img:"lizard_creature.png",reward:3,hp:110,attack:30,attackType:"Normal",speed:30,defense:15,critical:15}];function De(r,l,e){const M=r.slice();return M[37]=l[e],M}function Re(r){let l,e,M,b,t,s,T,k,o,h,a,i,v,m,f,G,K,J,U,Y,Z,N,g,V,I,x,L,te="Attack",q,F,me="Special Attack",se,Q,re,ce,W,fe,oe,ie,p,y,j,B,S,$="Swap Summon",z,P,ee="View Stats",X,Ee;return{c(){l=E("div"),e=E("div"),M=A("Player HP: "),b=A(r[4]),t=R(),s=E("div"),T=A("Player MP: "),k=A(r[5]),o=R(),h=E("div"),a=A("Enemy HP: "),i=A(r[7]),v=R(),m=E("div"),f=E("img"),J=R(),U=E("div"),Y=E("div"),N=R(),g=E("img"),x=R(),L=E("button"),L.textContent=te,q=R(),F=E("button"),F.textContent=me,se=R(),Q=E("div"),re=A(r[8]),ce=R(),W=E("div"),fe=A("Experience: "),oe=A(r[0]),ie=R(),p=E("div"),y=A("Drachmas: "),j=A(r[1]),B=R(),S=E("button"),S.textContent=$,z=R(),P=E("button"),P.textContent=ee,this.h()},l(c){l=C(c,"DIV",{class:!0});var d=O(l);e=C(d,"DIV",{});var ge=O(e);M=H(ge,"Player HP: "),b=H(ge,r[4]),ge.forEach(u),t=w(d),s=C(d,"DIV",{});var ke=O(s);T=H(ke,"Player MP: "),k=H(ke,r[5]),ke.forEach(u),o=w(d),h=C(d,"DIV",{});var ve=O(h);a=H(ve,"Enemy HP: "),i=H(ve,r[7]),ve.forEach(u),d.forEach(u),v=w(c),m=C(c,"DIV",{class:!0});var ne=O(m);f=C(ne,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),J=w(ne),U=C(ne,"DIV",{class:!0});var Ce=O(U);Y=C(Ce,"DIV",{class:!0}),O(Y).forEach(u),Ce.forEach(u),N=w(ne),g=C(ne,"IMG",{class:!0,src:!0,width:!0,height:!0,alt:!0}),ne.forEach(u),x=w(c),L=C(c,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(L)!=="svelte-1lzhxhg"&&(L.textContent=te),q=w(c),F=C(c,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(F)!=="svelte-11ep6kf"&&(F.textContent=me),se=w(c),Q=C(c,"DIV",{class:!0});var je=O(Q);re=H(je,r[8]),je.forEach(u),ce=w(c),W=C(c,"DIV",{class:!0});var Me=O(W);fe=H(Me,"Experience: "),oe=H(Me,r[0]),Me.forEach(u),ie=w(c),p=C(c,"DIV",{class:!0});var ye=O(p);y=H(ye,"Drachmas: "),j=H(ye,r[1]),ye.forEach(u),B=w(c),S=C(c,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(S)!=="svelte-1c1ym4l"&&(S.textContent=$),z=w(c),P=C(c,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(P)!=="svelte-z72cka"&&(P.textContent=ee),this.h()},h(){_(l,"class","stats svelte-3arrj7"),de(f.src,G=r[3].img)||_(f,"src",G),_(f,"width","128px"),_(f,"height","128px"),_(f,"alt",K=r[3].name),_(f,"class","svelte-3arrj7"),le(f,"attack",r[9]),le(f,"hurt",r[11]),_(Y,"class",Z=Pe(r[10]?r[3].specialEffect:"")+" svelte-3arrj7"),_(U,"class","special-effect-container svelte-3arrj7"),_(g,"class","enemy-creature svelte-3arrj7"),de(g.src,V=r[6].img)||_(g,"src",V),_(g,"width","128px"),_(g,"height","128px"),_(g,"alt",I=r[6].name),le(g,"enemy-attack",r[11]),le(g,"enemy-hurt",r[9]),_(m,"class","creatures svelte-3arrj7"),_(L,"class","svelte-3arrj7"),_(F,"class","svelte-3arrj7"),_(Q,"class","combat-alert svelte-3arrj7"),_(W,"class","experience svelte-3arrj7"),_(p,"class","drachmas svelte-3arrj7"),_(S,"class","svelte-3arrj7"),_(P,"class","svelte-3arrj7")},m(c,d){D(c,l,d),n(l,e),n(e,M),n(e,b),n(l,t),n(l,s),n(s,T),n(s,k),n(l,o),n(l,h),n(h,a),n(h,i),D(c,v,d),D(c,m,d),n(m,f),n(m,J),n(m,U),n(U,Y),n(m,N),n(m,g),D(c,x,d),D(c,L,d),D(c,q,d),D(c,F,d),D(c,se,d),D(c,Q,d),n(Q,re),D(c,ce,d),D(c,W,d),n(W,fe),n(W,oe),D(c,ie,d),D(c,p,d),n(p,y),n(p,j),D(c,B,d),D(c,S,d),D(c,z,d),D(c,P,d),X||(Ee=[pe(L,"click",r[17]),pe(F,"click",r[18]),pe(S,"click",r[19]),pe(P,"click",r[20])],X=!0)},p(c,d){d[0]&16&&ae(b,c[4]),d[0]&32&&ae(k,c[5]),d[0]&128&&ae(i,c[7]),d[0]&8&&!de(f.src,G=c[3].img)&&_(f,"src",G),d[0]&8&&K!==(K=c[3].name)&&_(f,"alt",K),d[0]&512&&le(f,"attack",c[9]),d[0]&2048&&le(f,"hurt",c[11]),d[0]&1032&&Z!==(Z=Pe(c[10]?c[3].specialEffect:"")+" svelte-3arrj7")&&_(Y,"class",Z),d[0]&64&&!de(g.src,V=c[6].img)&&_(g,"src",V),d[0]&64&&I!==(I=c[6].name)&&_(g,"alt",I),d[0]&2048&&le(g,"enemy-attack",c[11]),d[0]&512&&le(g,"enemy-hurt",c[9]),d[0]&256&&ae(re,c[8]),d[0]&1&&ae(oe,c[0]),d[0]&2&&ae(j,c[1])},d(c){c&&(u(l),u(v),u(m),u(x),u(L),u(q),u(F),u(se),u(Q),u(ce),u(W),u(ie),u(p),u(B),u(S),u(z),u(P)),X=!1,Ge(Ee)}}}function we(r){let l,e,M="Relic Store",b,t,s,T,k,o,h=Te(be),a=[];for(let i=0;i<h.length;i+=1)a[i]=Ae(De(r,h,i));return{c(){l=E("div"),e=E("h2"),e.textContent=M,b=R(),t=E("p"),s=A("Drachmas: "),T=A(r[1]),k=R(),o=E("div");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){l=C(i,"DIV",{class:!0});var v=O(l);e=C(v,"H2",{"data-svelte-h":!0}),ue(e)!=="svelte-6gh0hs"&&(e.textContent=M),b=w(v),t=C(v,"P",{});var m=O(t);s=H(m,"Drachmas: "),T=H(m,r[1]),m.forEach(u),k=w(v),o=C(v,"DIV",{});var f=O(o);for(let G=0;G<a.length;G+=1)a[G].l(f);f.forEach(u),v.forEach(u),this.h()},h(){_(l,"class","store svelte-3arrj7")},m(i,v){D(i,l,v),n(l,e),n(l,b),n(l,t),n(t,s),n(t,T),n(l,k),n(l,o);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(o,null)},p(i,v){if(v[0]&2&&ae(T,i[1]),v[0]&65540){h=Te(be);let m;for(m=0;m<h.length;m+=1){const f=De(i,h,m);a[m]?a[m].p(f,v):(a[m]=Ae(f),a[m].c(),a[m].m(o,null))}for(;m<a.length;m+=1)a[m].d(1);a.length=h.length}},d(i){i&&u(l),Le(a,i)}}}function Ne(r){let l;return{c(){l=A("Active")},l(e){l=H(e,"Active")},m(e,M){D(e,l,M)},d(e){e&&u(l)}}}function Ve(r){let l,e="Buy",M,b;function t(){return r[22](r[37])}return{c(){l=E("button"),l.textContent=e,this.h()},l(s){l=C(s,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(l)!=="svelte-1oeqzjf"&&(l.textContent=e),this.h()},h(){_(l,"class","svelte-3arrj7")},m(s,T){D(s,l,T),M||(b=pe(l,"click",t),M=!0)},p(s,T){r=s},d(s){s&&u(l),M=!1,b()}}}function Ae(r){let l,e,M,b,t,s=r[37].name+"",T,k,o,h,a,i=r[37].description+"",v,m,f,G,K=r[37].price+"",J,U,Y,Z,N=r[37].id===r[2].id&&Ne(),g=r[37].id!==r[2].id&&Ve(r);return{c(){l=E("div"),e=E("img"),b=R(),t=E("h3"),T=A(s),k=R(),o=E("p"),N&&N.c(),h=R(),a=E("p"),v=A(i),m=R(),f=E("p"),G=A("Price: "),J=A(K),U=A(" drachmas"),Y=R(),g&&g.c(),Z=R(),this.h()},l(V){l=C(V,"DIV",{class:!0});var I=O(l);e=C(I,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),b=w(I),t=C(I,"H3",{});var x=O(t);T=H(x,s),x.forEach(u),k=w(I),o=C(I,"P",{class:!0});var L=O(o);N&&N.l(L),L.forEach(u),h=w(I),a=C(I,"P",{});var te=O(a);v=H(te,i),te.forEach(u),m=w(I),f=C(I,"P",{});var q=O(f);G=H(q,"Price: "),J=H(q,K),U=H(q," drachmas"),q.forEach(u),Y=w(I),g&&g.l(I),Z=w(I),I.forEach(u),this.h()},h(){de(e.src,M=r[37].img)||_(e,"src",M),_(e,"width","46px"),_(e,"height","46px"),_(e,"alt",r[37].name),_(e,"class","svelte-3arrj7"),_(o,"class","active svelte-3arrj7"),_(l,"class","relic svelte-3arrj7")},m(V,I){D(V,l,I),n(l,e),n(l,b),n(l,t),n(t,T),n(l,k),n(l,o),N&&N.m(o,null),n(l,h),n(l,a),n(a,v),n(l,m),n(l,f),n(f,G),n(f,J),n(f,U),n(l,Y),g&&g.m(l,null),n(l,Z)},p(V,I){V[37].id===V[2].id?N||(N=Ne(),N.c(),N.m(o,null)):N&&(N.d(1),N=null),V[37].id!==V[2].id?g?g.p(V,I):(g=Ve(V),g.c(),g.m(l,Z)):g&&(g.d(1),g=null)},d(V){V&&u(l),N&&N.d(),g&&g.d()}}}function qe(r){let l,e,M,b=r[12]?"Close Relic Store":"Open Relic Store",t,s,T,k,o=!r[12]&&Re(r),h=r[12]&&we(r);return{c(){l=E("div"),o&&o.c(),e=R(),M=E("button"),t=A(b),s=R(),h&&h.c(),this.h()},l(a){l=C(a,"DIV",{class:!0});var i=O(l);o&&o.l(i),e=w(i),M=C(i,"BUTTON",{class:!0});var v=O(M);t=H(v,b),v.forEach(u),s=w(i),h&&h.l(i),i.forEach(u),this.h()},h(){_(M,"class","svelte-3arrj7"),_(l,"class","game-container svelte-3arrj7")},m(a,i){D(a,l,i),o&&o.m(l,null),n(l,e),n(l,M),n(M,t),n(l,s),h&&h.m(l,null),T||(k=pe(M,"click",r[21]),T=!0)},p(a,i){a[12]?o&&(o.d(1),o=null):o?o.p(a,i):(o=Re(a),o.c(),o.m(l,e)),i[0]&4096&&b!==(b=a[12]?"Close Relic Store":"Open Relic Store")&&ae(t,b),a[12]?h?h.p(a,i):(h=we(a),h.c(),h.m(l,null)):h&&(h.d(1),h=null)},i:Ie,o:Ie,d(a){a&&u(l),o&&o.d(),h&&h.d(),T=!1,k()}}}function Je(r,l,e){let M=0,b=0,t=he[0],s=be[0],T=!1,k=t.hp+s.hpMod,o=t.mp+s.mpMod,h=o,a=_e[Math.floor(Math.random()*_e.length)],i=a.hp,v="",m=0,f=!1,G=!1,K=!1,J=null,U=null,Y=null,Z=!1;const N=()=>{if(o!==t.mp+s.mpMod&&o+t.mpRegen+s.mpRegenMod<=t.mp+s.mpMod){e(5,o=o+t.mpRegen+s.mpRegenMod);return}e(5,o=t.mp+s.mpMod)},g=(p,y)=>{if(k-(a.attack-a.attack*p)*y<=0){e(8,v="Defeat!"),e(4,k=0);return}e(4,k=k-(a.attack-a.attack*p)*y)},V=(p,y,j)=>{try{const B=t.speed+s.speedMod;let S=(t.defense+s.defenseMod)/100,$=a.critical/100,z=1,P=!1;if(a.attackType==="Magic"&&(S=0),a.speed<B?P=Math.random()>=.5:P=Math.random()>=.8,m>1&&!P&&!p&&(P=!0),!P&&p&&e(8,v="Enemy was too slow!"),!P&&!p){e(5,o=h),m+=1,q(y,j);return}y===t.attackName&&N(),P&&p&&e(8,v="Both abilities succeeded."),P&&!p&&e(8,v="Your summon was too slow!"),P&&(Math.random()<=$&&(z=1.5),a.attackType==="Poison"&&z===1&&(z=1.5),g(S,z),e(11,K=!0),Y=setTimeout(()=>e(11,K=!1),500))}catch(B){console.error(B)}},I=(p,y,j,B,S)=>{S==="Lifesteal"&&j&&(k+p*y*.2>t.hp+s.hpMod?e(4,k=t.hp+s.hpMod):e(4,k=k+p*y*.2)),V(j,B,S)},x=(p,y,j,B,S)=>{p&&(k+y*j>t.hp+s.hpMod?e(4,k=t.hp+s.hpMod):e(4,k=k+y*j)),V(p,B,S)},L=(p,y,j,B,S,$,z)=>{if(e(5,o=o-j),z!=="Heal"){if(i-(y-y*S)*B<=0&&p){e(7,i=0),e(8,v="Victory!"),e(0,M+=a.reward*2),e(1,b+=a.reward),e(9,f=!0),J=setTimeout(()=>e(9,f=!1),500),e(10,G=!0),U=setTimeout(()=>e(10,G=!1),500);return}p&&(e(7,i=i-(y-y*S)*B),e(9,f=!0),J=setTimeout(()=>e(9,f=!1),500),e(10,G=!0),U=setTimeout(()=>e(10,G=!1),500)),I(y,B,p,$,z);return}x(p,y,B,$,z)},te=()=>{(k<=0||i<=0)&&(e(4,k=t.hp+s.hpMod),e(5,o=t.mp+s.mpMod),e(6,a=_e[Math.floor(Math.random()*_e.length)]),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+a.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+a.img.slice(0,-4)+"_attack.png"})`),e(7,i=a.hp),e(8,v=""))},q=(p,y)=>{try{const j=t.attack+s.attackMod,B=t.speed+s.speedMod,S=(t.critical+s.criticalMod)/100;let $=t.special+s.specialMod,z=t.specialCost,P=a.defense/100,ee=!1,X=1;if(te(),y==="Magic"&&(P=0),B<a.speed?ee=Math.random()>=.5:ee=Math.random()>=.8,Math.random()<=S&&(X=1.5),y==="Poison"&&X===1&&(X=1.5),p===t.attackName){if(i-(j-j*P)*X<=0&&ee){e(7,i=0),e(8,v="Victory!"),e(0,M+=a.reward*2),e(1,b+=a.reward),e(9,f=!0),J=setTimeout(()=>e(9,f=!1),500);return}ee&&(e(7,i=i-(j-j*P)*X),e(9,f=!0),J=setTimeout(()=>e(9,f=!1),500)),V(ee,p,y);return}o>=z?L(ee,$,z,X,P,p,y):e(8,v="Not enough MP!")}catch(j){console.error(j)}},F=()=>{try{if(e(4,k=0),te(),t===he[0]){e(3,t=he[1]),e(4,k=t.hp+s.hpMod),e(5,o=t.mp+s.mpMod),h=o,document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`);return}e(3,t=he[0]),e(4,k=t.hp+s.hpMod),e(5,o=t.mp+s.mpMod),h=o,document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`)}catch(p){console.error(p)}},me=()=>{try{const y=[{label:"Name",value:t.name},{label:"HP",value:t.hp+s.hpMod},{label:"Speed",value:t.speed+s.speedMod},{label:"Defense",value:t.defense+s.defenseMod},{label:"Critical",value:t.critical+s.criticalMod},{label:"MP",value:t.mp+s.mpMod},{label:"MP Regen",value:t.mpRegen+s.mpRegenMod},{label:`
Attack Name`,value:t.attackName},{label:"Attack",value:t.attack+s.attackMod},{label:"Attack Type",value:t.attackType},{label:`
Special Name`,value:t.specialName},{label:"Special",value:t.special+s.specialMod},{label:"Special Cost",value:t.specialCost},{label:"Special Type",value:t.specialType}].map(j=>`${j.label}: ${j.value}`).join(`
`);alert(y)}catch(p){console.error(p)}},se=()=>{T&&(localStorage.setItem("drachmas",b),localStorage.setItem("playerExperience",M),localStorage.setItem("chosenRelic",JSON.stringify(s)))},Q=p=>{if(b>=p.price){e(1,b-=p.price),e(2,s=p),window.location.reload();return}alert("Not enough drachmas!")};Oe(()=>{try{const p=localStorage.getItem("drachmas"),y=localStorage.getItem("playerExperience"),j=localStorage.getItem("chosenRelic");Se.set(!0),document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+a.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+a.img.slice(0,-4)+"_attack.png"})`),p&&e(1,b=parseInt(p)),y&&e(0,M=parseInt(y)),j&&e(2,s=JSON.parse(j)),T=!0}catch(p){console.error(p)}}),Be(()=>{Se.set(!1),clearTimeout(J),clearTimeout(U),clearTimeout(Y)});const re=()=>q(t.attackName,t.attackType),ce=()=>q(t.specialName,t.specialType),W=()=>F(),fe=()=>me(),oe=()=>e(12,Z=!Z),ie=p=>Q(p);return r.$$.update=()=>{r.$$.dirty[0]&7&&se()},[M,b,s,t,k,o,a,i,v,f,G,K,Z,q,F,me,Q,re,ce,W,fe,oe,ie]}class Qe extends ze{constructor(l){super(),Ue(this,l,Je,qe,He,{},null,[-1,-1])}}export{Qe as component};
