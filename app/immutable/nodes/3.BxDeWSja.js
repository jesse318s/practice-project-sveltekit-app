import{s as ze,d as pe,e as Ie,n as Pe,r as De,o as we,f as Ne}from"../chunks/scheduler.BoReh3vH.js";import{S as Re,i as qe,e as _,t as V,s as D,c as v,a as j,b as A,d as w,f as N,y as ie,o as n,z as F,g as Ve,h as a,A as me,j as re}from"../chunks/index.DhL7nboW.js";import{i as Se}from"../chunks/store.BxR7W1V8.js";const ue=[{id:1,name:"Demon",img:"demon_creature.png",hp:60,attack:50,attackName:"Slash",attackType:"Normal",speed:60,defense:20,critical:25,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Harvest",specialType:"Lifesteal",specialEffect:"special-effect-1"},{id:2,name:"Lizard",img:"lizard_creature.png",hp:110,attack:30,attackName:"Impale",attackType:"Normal",speed:30,defense:15,critical:15,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Inject",specialType:"Poison",specialEffect:"special-effect-2"}],je=[{id:1,name:"Gust of Hermes",img:"relic1.png",description:"Grants the user's summon +5 speed while relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:5,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:0},{id:2,name:"Spark of Zeus",img:"relic2.png",description:"Grants the user's summon +15 attack while relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:15,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:150},{id:3,name:"Cup of Dionysus",img:"relic3.png",description:"Grants the user's summon +25 MP regen while relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:25,specialMod:0,price:300}],de=[{id:1,name:"Demon",img:"demon_creature.png",reward:3,hp:60,attack:50,attackType:"Normal",speed:60,defense:20,critical:25},{id:2,name:"Lizard",img:"lizard_creature.png",reward:3,hp:110,attack:30,attackType:"Normal",speed:30,defense:15,critical:15}];function Ae(o){let p,e,z,L,t,s,u,f,B,i,y,P,K,S,E,h,H,U,W,O,J,X,le,g,x,$,ce,R,Q="Attack",ee,q,ne="Special Attack",oe,Y,te,c,r,m,k,b,I,C,M,G,T,ve="Swap Summon",fe,Z,Ee="View Stats",he,be;return{c(){p=_("div"),e=_("div"),z=_("div"),L=V("Player HP: "),t=V(o[3]),s=D(),u=_("div"),f=V("Player MP: "),B=V(o[4]),i=D(),y=_("div"),P=V("Enemy HP: "),K=V(o[6]),S=D(),E=_("div"),h=_("img"),W=D(),O=_("div"),J=_("div"),le=D(),g=_("img"),ce=D(),R=_("button"),R.textContent=Q,ee=D(),q=_("button"),q.textContent=ne,oe=D(),Y=_("div"),te=V(o[7]),c=D(),r=_("div"),m=V("Experience: "),k=V(o[0]),b=D(),I=_("div"),C=V("Drachmas: "),M=V(o[1]),G=D(),T=_("button"),T.textContent=ve,fe=D(),Z=_("button"),Z.textContent=Ee,this.h()},l(d){p=v(d,"DIV",{class:!0});var l=j(p);e=v(l,"DIV",{class:!0});var ae=j(e);z=v(ae,"DIV",{});var ge=j(z);L=A(ge,"Player HP: "),t=A(ge,o[3]),ge.forEach(w),s=N(ae),u=v(ae,"DIV",{});var ke=j(u);f=A(ke,"Player MP: "),B=A(ke,o[4]),ke.forEach(w),i=N(ae),y=v(ae,"DIV",{});var Me=j(y);P=A(Me,"Enemy HP: "),K=A(Me,o[6]),Me.forEach(w),ae.forEach(w),S=N(l),E=v(l,"DIV",{class:!0});var se=j(E);h=v(se,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),W=N(se),O=v(se,"DIV",{class:!0});var Ce=j(O);J=v(Ce,"DIV",{class:!0}),j(J).forEach(w),Ce.forEach(w),le=N(se),g=v(se,"IMG",{class:!0,src:!0,width:!0,height:!0,alt:!0}),se.forEach(w),ce=N(l),R=v(l,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(R)!=="svelte-ig8gg4"&&(R.textContent=Q),ee=N(l),q=v(l,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(q)!=="svelte-11zl5of"&&(q.textContent=ne),oe=N(l),Y=v(l,"DIV",{class:!0});var Te=j(Y);te=A(Te,o[7]),Te.forEach(w),c=N(l),r=v(l,"DIV",{class:!0});var ye=j(r);m=A(ye,"Experience: "),k=A(ye,o[0]),ye.forEach(w),b=N(l),I=v(l,"DIV",{class:!0});var _e=j(I);C=A(_e,"Drachmas: "),M=A(_e,o[1]),_e.forEach(w),G=N(l),T=v(l,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(T)!=="svelte-1c1ym4l"&&(T.textContent=ve),fe=N(l),Z=v(l,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(Z)!=="svelte-z72cka"&&(Z.textContent=Ee),l.forEach(w),this.h()},h(){n(e,"class","stats svelte-qz431e"),pe(h.src,H=o[2].img)||n(h,"src",H),n(h,"width","128px"),n(h,"height","128px"),n(h,"alt",U=o[2].name),n(h,"class","svelte-qz431e"),F(h,"attack",o[8]),F(h,"hurt",o[10]),n(J,"class",X=Ie(o[9]?o[2].specialEffect:"")+" svelte-qz431e"),n(O,"class","special-effect-container svelte-qz431e"),n(g,"class","enemy-creature svelte-qz431e"),pe(g.src,x=o[5].img)||n(g,"src",x),n(g,"width","128px"),n(g,"height","128px"),n(g,"alt",$=o[5].name),F(g,"enemy-attack",o[10]),F(g,"enemy-hurt",o[8]),n(E,"class","creatures svelte-qz431e"),n(R,"class","svelte-qz431e"),n(q,"class","svelte-qz431e"),n(Y,"class","combat-alert svelte-qz431e"),n(r,"class","experience svelte-qz431e"),n(I,"class","drachmas svelte-qz431e"),n(T,"class","svelte-qz431e"),n(Z,"class","svelte-qz431e"),n(p,"class","game-container svelte-qz431e")},m(d,l){Ve(d,p,l),a(p,e),a(e,z),a(z,L),a(z,t),a(e,s),a(e,u),a(u,f),a(u,B),a(e,i),a(e,y),a(y,P),a(y,K),a(p,S),a(p,E),a(E,h),a(E,W),a(E,O),a(O,J),a(E,le),a(E,g),a(p,ce),a(p,R),a(p,ee),a(p,q),a(p,oe),a(p,Y),a(Y,te),a(p,c),a(p,r),a(r,m),a(r,k),a(p,b),a(p,I),a(I,C),a(I,M),a(p,G),a(p,T),a(p,fe),a(p,Z),he||(be=[me(R,"click",o[15]),me(q,"click",o[16]),me(T,"click",o[17]),me(Z,"click",o[18])],he=!0)},p(d,l){l[0]&8&&re(t,d[3]),l[0]&16&&re(B,d[4]),l[0]&64&&re(K,d[6]),l[0]&4&&!pe(h.src,H=d[2].img)&&n(h,"src",H),l[0]&4&&U!==(U=d[2].name)&&n(h,"alt",U),l[0]&256&&F(h,"attack",d[8]),l[0]&1024&&F(h,"hurt",d[10]),l[0]&516&&X!==(X=Ie(d[9]?d[2].specialEffect:"")+" svelte-qz431e")&&n(J,"class",X),l[0]&32&&!pe(g.src,x=d[5].img)&&n(g,"src",x),l[0]&32&&$!==($=d[5].name)&&n(g,"alt",$),l[0]&1024&&F(g,"enemy-attack",d[10]),l[0]&256&&F(g,"enemy-hurt",d[8]),l[0]&128&&re(te,d[7]),l[0]&1&&re(k,d[0]),l[0]&2&&re(M,d[1])},i:Pe,o:Pe,d(d){d&&w(p),he=!1,De(be)}}}function He(o,p,e){let z=0,L=0,t=ue[0],s=je[0],u=t.hp+s.hpMod,f=t.mp+s.mpMod,B=f,i=de[Math.floor(Math.random()*de.length)],y=i.hp,P="",K=0,S=!1,E=!1,h=!1,H=null,U=null,W=null,O=!1;const J=()=>{O&&(localStorage.setItem("drachmas",L),localStorage.setItem("playerExperience",z),localStorage.setItem("chosenRelic",JSON.stringify(s)))},X=()=>{if(f!==t.mp+s.mpMod&&f+t.mpRegen+s.mpRegenMod<=t.mp+s.mpMod){e(4,f=f+t.mpRegen+s.mpRegenMod);return}e(4,f=t.mp+s.mpMod)},le=(c,r)=>{if(u-(i.attack-i.attack*c)*r<=0){e(7,P="Defeat!"),e(3,u=0);return}e(3,u=u-(i.attack-i.attack*c)*r)},g=(c,r,m)=>{try{const k=t.speed+s.speedMod;let b=(t.defense+s.defenseMod)/100,I=i.critical/100,C=1,M=!1;if(i.attackType==="Magic"&&(b=0),i.speed<k?M=Math.random()>=.5:M=Math.random()>=.8,K>1&&!M&&!c&&(M=!0),!M&&c&&e(7,P="Enemy was too slow!"),!M&&!c){e(4,f=B),K+=1,Q(r,m);return}r===t.attackName&&X(),M&&c&&e(7,P="Both abilities succeeded."),M&&!c&&e(7,P="Your summon was too slow!"),M&&(Math.random()<=I&&(C=1.5),i.attackType==="Poison"&&C===1&&(C=1.5),le(b,C),e(10,h=!0),W=setTimeout(()=>e(10,h=!1),500))}catch(k){console.error(k)}},x=(c,r,m,k,b)=>{b==="Lifesteal"&&m&&(u+c*r*.2>t.hp+s.hpMod?e(3,u=t.hp+s.hpMod):e(3,u=u+c*r*.2)),g(m,k,b)},$=(c,r,m,k,b)=>{c&&(u+r*m>t.hp+s.hpMod?e(3,u=t.hp+s.hpMod):e(3,u=u+r*m)),g(c,k,b)},ce=(c,r,m,k,b,I,C)=>{if(e(4,f=f-m),C!=="Heal"){if(y-(r-r*b)*k<=0&&c){e(6,y=0),e(7,P="Victory!"),e(0,z+=i.reward*2),e(1,L+=i.reward),e(8,S=!0),H=setTimeout(()=>e(8,S=!1),500),e(9,E=!0),U=setTimeout(()=>e(9,E=!1),500);return}c&&(e(6,y=y-(r-r*b)*k),e(8,S=!0),H=setTimeout(()=>e(8,S=!1),500),e(9,E=!0),U=setTimeout(()=>e(9,E=!1),500)),x(r,k,c,I,C);return}$(c,r,k,I,C)},R=()=>{(u<=0||y<=0)&&(e(3,u=t.hp+s.hpMod),e(4,f=t.mp+s.mpMod),e(5,i=de[Math.floor(Math.random()*de.length)]),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+i.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+i.img.slice(0,-4)+"_attack.png"})`),e(6,y=i.hp),e(7,P=""))},Q=(c,r)=>{try{const m=t.attack+s.attackMod,k=t.speed+s.speedMod,b=(t.critical+s.criticalMod)/100;let I=t.special+s.specialMod,C=t.specialCost,M=i.defense/100,G=!1,T=1;if(R(),r==="Magic"&&(M=0),k<i.speed?G=Math.random()>=.5:G=Math.random()>=.8,Math.random()<=b&&(T=1.5),r==="Poison"&&T===1&&(T=1.5),c===t.attackName){if(y-(m-m*M)*T<=0&&G){e(6,y=0),e(7,P="Victory!"),e(0,z+=i.reward*2),e(1,L+=i.reward),e(8,S=!0),H=setTimeout(()=>e(8,S=!1),500);return}G&&(e(6,y=y-(m-m*M)*T),e(8,S=!0),H=setTimeout(()=>e(8,S=!1),500)),g(G,c,r);return}f>=C?ce(G,I,C,T,M,c,r):e(7,P="Not enough MP!")}catch(m){console.error(m)}},ee=()=>{try{if(e(3,u=0),R(),t===ue[0]){e(2,t=ue[1]),e(3,u=t.hp+s.hpMod),e(4,f=t.mp+s.mpMod),B=f,document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`);return}e(2,t=ue[0]),e(3,u=t.hp+s.hpMod),e(4,f=t.mp+s.mpMod),B=f,document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`)}catch(c){console.error(c)}},q=()=>{try{const r=[{label:"ID",value:t.id},{label:"Name",value:t.name},{label:"HP",value:t.hp+s.hpMod},{label:"Speed",value:t.speed+s.speedMod},{label:"Defense",value:t.defense+s.defenseMod},{label:"Critical",value:t.critical+s.criticalMod},{label:"MP",value:t.mp+s.mpMod},{label:"MP Regen",value:t.mpRegen+s.mpRegenMod},{label:`
Attack Name`,value:t.attackName},{label:"Attack",value:t.attack+s.attackMod},{label:"Attack Type",value:t.attackType},{label:`
Special Name`,value:t.specialName},{label:"Special",value:t.special+s.specialMod},{label:"Special Cost",value:t.specialCost},{label:"Special Type",value:t.specialType}].map(m=>`${m.label}: ${m.value}`).join(`
`);alert(r)}catch(c){console.error(c)}};we(()=>{const c=localStorage.getItem("drachmas"),r=localStorage.getItem("playerExperience"),m=localStorage.getItem("chosenRelic");Se.set(!0),!(typeof document>"u")&&(document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+i.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+i.img.slice(0,-4)+"_attack.png"})`),c&&e(1,L=parseInt(c)),r&&e(0,z=parseInt(r)),m&&e(14,s=JSON.parse(m)),O=!0)}),Ne(()=>{Se.set(!1),clearTimeout(H),clearTimeout(U),clearTimeout(W)});const ne=()=>Q(t.attackName,t.attackType),oe=()=>Q(t.specialName,t.specialType),Y=()=>ee(),te=()=>q();return o.$$.update=()=>{o.$$.dirty[0]&16387&&J()},[z,L,t,u,f,i,y,P,S,E,h,Q,ee,q,s,ne,oe,Y,te]}class Be extends Re{constructor(p){super(),qe(this,p,He,Ae,ze,{},null,[-1,-1])}}export{Be as component};
