import{s as Ke,n as we,o as Qe,q as We,u as ke,v as De,r as Xe}from"../chunks/scheduler.DWDrVGHh.js";import{S as xe,i as $e,e as b,s as C,c as j,a as R,f as T,d,o as y,g as w,h as n,t as H,y as se,b as O,z as re,A as ie,j as ee,B as Je}from"../chunks/index.CEOS_bE8.js";import{e as ve}from"../chunks/each.D6YF6ztN.js";import{i as Ne}from"../chunks/store.3yz4Jc3E.js";const Me=[{id:1,name:"Mount Olympus",expReq:0,description:"The home of the gods."},{id:2,name:"Countryside",expReq:100,description:"The peaceful countryside, where the sun shines and the birds sing."}],Te=[{id:1,stageId:1,name:"Demon",img:"demon_creature.png",hp:60,attack:50,attackName:"Slash",attackType:"Normal",speed:60,defense:20,critical:25,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Harvest",specialType:"Lifesteal",specialEffect:"special-effect-1"},{id:2,stageId:1,name:"Lizard",img:"lizard_creature.png",hp:110,attack:30,attackName:"Impale",attackType:"Normal",speed:30,defense:15,critical:15,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Inject",specialType:"Poison",specialEffect:"special-effect-2"},{id:3,stageId:2,name:"Medusa",img:"medusa_creature.png",hp:110,attack:30,attackName:"Gaze",attackType:"Magic",speed:30,defense:15,critical:15,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Petrify",specialType:"Magic",specialEffect:"special-effect-3"},{id:4,stageId:2,name:"Baby Dragon",img:"small_dragon_creature.png",hp:60,attack:50,attackName:"Exhale",attackType:"Magic",speed:60,defense:20,critical:25,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Fireball",specialType:"Magic",specialEffect:"special-effect-4"}],ye=[{id:1,name:"Gust of Hermes",img:"relic1.png",description:"Grants the user's summon +5 speed while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:5,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:0},{id:2,name:"Spark of Zeus",img:"relic2.png",description:"Grants the user's summon +15 attack while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:15,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:150},{id:3,name:"Cup of Dionysus",img:"relic3.png",description:"Grants the user's summon +25 MP regen while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:25,specialMod:0,price:300}],Re=[{id:1,stageId:1,name:"Demon",img:"demon_creature.png",reward:3,hp:60,attack:50,attackType:"Normal",speed:60,defense:20,critical:25},{id:2,stageId:1,name:"Lizard",img:"lizard_creature.png",reward:3,hp:110,attack:30,attackType:"Normal",speed:30,defense:15,critical:15},{id:3,stageId:2,name:"Medusa",img:"medusa_creature.png",reward:5,hp:110,attack:30,attackType:"Magic",speed:30,defense:15,critical:15},{id:4,stageId:2,name:"Baby Dragon",img:"small_dragon_creature.png",reward:5,hp:60,attack:50,attackType:"Magic",speed:60,defense:20,critical:25},{id:5,stageId:3,name:"Skeleton",img:"skeleton_creature.png",reward:12,hp:125,attack:50,attackType:"Normal",speed:30,defense:30,critical:10},{id:6,stageId:3,name:"Skeleton",img:"skeleton_creature_spear.png",reward:12,hp:100,attack:50,attackType:"Normal",speed:40,defense:20,critical:50},{id:7,stageId:3,name:"Skeleton",img:"skeleton_creature_bow.png",reward:12,hp:100,attack:40,attackType:"Normal",speed:70,defense:20,critical:50}];function Ve(a,e,t){const m=a.slice();return m[43]=e[t],m}function Ae(a,e,t){const m=a.slice();return m[46]=e[t],m}function He(a){let e,t="Omega Summoners",m,_,g,i,l,c,k,f,s,r,p,o,E,U,D,M,N,B,V,A,S,G,z,F,K,te,Q,W,me="Attack",le,J,he="Special",ne,X,ce,oe,x,_e,pe,ue,$,ge,fe,h,I,q="Mimic Summon",L,P,ae="View Stats",Z,Y;return{c(){e=b("h2"),e.textContent=t,m=C(),_=b("div"),g=b("div"),i=H("Player HP: "),l=H(a[5]),c=C(),k=b("div"),f=H("Player MP: "),s=H(a[6]),r=C(),p=b("div"),o=H("Enemy HP: "),E=H(a[8]),U=C(),D=b("div"),M=b("img"),V=C(),A=b("div"),S=b("div"),z=C(),F=b("img"),Q=C(),W=b("button"),W.textContent=me,le=C(),J=b("button"),J.textContent=he,ne=C(),X=b("div"),ce=H(a[9]),oe=C(),x=b("div"),_e=H("Experience: "),pe=H(a[0]),ue=C(),$=b("div"),ge=H("Drachmas: "),fe=H(a[1]),h=C(),I=b("button"),I.textContent=q,L=C(),P=b("button"),P.textContent=ae,this.h()},l(u){e=j(u,"H2",{"data-svelte-h":!0}),se(e)!=="svelte-e6xij8"&&(e.textContent=t),m=T(u),_=j(u,"DIV",{class:!0});var v=R(_);g=j(v,"DIV",{});var be=R(g);i=O(be,"Player HP: "),l=O(be,a[5]),be.forEach(d),c=T(v),k=j(v,"DIV",{});var je=R(k);f=O(je,"Player MP: "),s=O(je,a[6]),je.forEach(d),r=T(v),p=j(v,"DIV",{});var Ie=R(p);o=O(Ie,"Enemy HP: "),E=O(Ie,a[8]),Ie.forEach(d),v.forEach(d),U=T(u),D=j(u,"DIV",{class:!0});var de=R(D);M=j(de,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),V=T(de),A=j(de,"DIV",{class:!0});var Se=R(A);S=j(Se,"DIV",{class:!0}),R(S).forEach(d),Se.forEach(d),z=T(de),F=j(de,"IMG",{class:!0,src:!0,width:!0,height:!0,alt:!0}),de.forEach(d),Q=T(u),W=j(u,"BUTTON",{class:!0,"data-svelte-h":!0}),se(W)!=="svelte-1lzhxhg"&&(W.textContent=me),le=T(u),J=j(u,"BUTTON",{class:!0,"data-svelte-h":!0}),se(J)!=="svelte-1juglv"&&(J.textContent=he),ne=T(u),X=j(u,"DIV",{class:!0});var Pe=R(X);ce=O(Pe,a[9]),Pe.forEach(d),oe=T(u),x=j(u,"DIV",{class:!0});var Ee=R(x);_e=O(Ee,"Experience: "),pe=O(Ee,a[0]),Ee.forEach(d),ue=T(u),$=j(u,"DIV",{class:!0});var Ce=R($);ge=O(Ce,"Drachmas: "),fe=O(Ce,a[1]),Ce.forEach(d),h=T(u),I=j(u,"BUTTON",{class:!0,"data-svelte-h":!0}),se(I)!=="svelte-lzajz"&&(I.textContent=q),L=T(u),P=j(u,"BUTTON",{class:!0,"data-svelte-h":!0}),se(P)!=="svelte-z72cka"&&(P.textContent=ae),this.h()},h(){y(_,"class","stats svelte-r0jj7x"),ke(M.src,N=a[4].img)||y(M,"src",N),y(M,"width","128px"),y(M,"height","128px"),y(M,"alt",B=a[4].name),y(M,"class","svelte-r0jj7x"),re(M,"attack",a[10]),re(M,"hurt",a[12]),y(S,"class",G=De(a[11]?a[4].specialEffect:"")+" svelte-r0jj7x"),y(A,"class","special-effect-container svelte-r0jj7x"),y(F,"class","enemy-creature svelte-r0jj7x"),ke(F.src,K=a[7].img)||y(F,"src",K),y(F,"width","128px"),y(F,"height","128px"),y(F,"alt",te=a[7].name),re(F,"enemy-attack",a[12]),re(F,"enemy-hurt",a[10]),y(D,"class","creatures svelte-r0jj7x"),y(W,"class","svelte-r0jj7x"),y(J,"class","svelte-r0jj7x"),y(X,"class","combat-alert svelte-r0jj7x"),y(x,"class","experience svelte-r0jj7x"),y($,"class","drachmas svelte-r0jj7x"),y(I,"class","svelte-r0jj7x"),y(P,"class","svelte-r0jj7x")},m(u,v){w(u,e,v),w(u,m,v),w(u,_,v),n(_,g),n(g,i),n(g,l),n(_,c),n(_,k),n(k,f),n(k,s),n(_,r),n(_,p),n(p,o),n(p,E),w(u,U,v),w(u,D,v),n(D,M),n(D,V),n(D,A),n(A,S),n(D,z),n(D,F),w(u,Q,v),w(u,W,v),w(u,le,v),w(u,J,v),w(u,ne,v),w(u,X,v),n(X,ce),w(u,oe,v),w(u,x,v),n(x,_e),n(x,pe),w(u,ue,v),w(u,$,v),n($,ge),n($,fe),w(u,h,v),w(u,I,v),w(u,L,v),w(u,P,v),Z||(Y=[ie(W,"click",a[20]),ie(J,"click",a[21]),ie(I,"click",a[22]),ie(P,"click",a[23])],Z=!0)},p(u,v){v[0]&32&&ee(l,u[5]),v[0]&64&&ee(s,u[6]),v[0]&256&&ee(E,u[8]),v[0]&16&&!ke(M.src,N=u[4].img)&&y(M,"src",N),v[0]&16&&B!==(B=u[4].name)&&y(M,"alt",B),v[0]&1024&&re(M,"attack",u[10]),v[0]&4096&&re(M,"hurt",u[12]),v[0]&2064&&G!==(G=De(u[11]?u[4].specialEffect:"")+" svelte-r0jj7x")&&y(S,"class",G),v[0]&128&&!ke(F.src,K=u[7].img)&&y(F,"src",K),v[0]&128&&te!==(te=u[7].name)&&y(F,"alt",te),v[0]&4096&&re(F,"enemy-attack",u[12]),v[0]&1024&&re(F,"enemy-hurt",u[10]),v[0]&512&&ee(ce,u[9]),v[0]&1&&ee(pe,u[0]),v[0]&2&&ee(fe,u[1])},d(u){u&&(d(e),d(m),d(_),d(U),d(D),d(Q),d(W),d(le),d(J),d(ne),d(X),d(oe),d(x),d(ue),d($),d(h),d(I),d(L),d(P)),Z=!1,Xe(Y)}}}function Oe(a){let e,t=a[13]?"Close Relic Store":"Open Relic Store",m,_,g;return{c(){e=b("button"),m=H(t),this.h()},l(i){e=j(i,"BUTTON",{class:!0});var l=R(e);m=O(l,t),l.forEach(d),this.h()},h(){y(e,"class","svelte-r0jj7x")},m(i,l){w(i,e,l),n(e,m),_||(g=ie(e,"click",a[24]),_=!0)},p(i,l){l[0]&8192&&t!==(t=i[13]?"Close Relic Store":"Open Relic Store")&&ee(m,t)},d(i){i&&d(e),_=!1,g()}}}function Be(a){let e,t=a[14]?"Close Stage Menu":"Open Stage Menu",m,_,g;return{c(){e=b("button"),m=H(t),this.h()},l(i){e=j(i,"BUTTON",{class:!0});var l=R(e);m=O(l,t),l.forEach(d),this.h()},h(){y(e,"class","svelte-r0jj7x")},m(i,l){w(i,e,l),n(e,m),_||(g=ie(e,"click",a[25]),_=!0)},p(i,l){l[0]&16384&&t!==(t=i[14]?"Close Stage Menu":"Open Stage Menu")&&ee(m,t)},d(i){i&&d(e),_=!1,g()}}}function ze(a){let e,t,m="Relic Store",_,g,i,l,c,k,f=ve(ye),s=[];for(let r=0;r<f.length;r+=1)s[r]=Ue(Ae(a,f,r));return{c(){e=b("div"),t=b("h2"),t.textContent=m,_=C(),g=b("p"),i=H("Drachmas: "),l=H(a[1]),c=C(),k=b("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=j(r,"DIV",{class:!0});var p=R(e);t=j(p,"H2",{"data-svelte-h":!0}),se(t)!=="svelte-6gh0hs"&&(t.textContent=m),_=T(p),g=j(p,"P",{});var o=R(g);i=O(o,"Drachmas: "),l=O(o,a[1]),o.forEach(d),c=T(p),k=j(p,"DIV",{});var E=R(k);for(let U=0;U<s.length;U+=1)s[U].l(E);E.forEach(d),p.forEach(d),this.h()},h(){y(e,"class","menu svelte-r0jj7x")},m(r,p){w(r,e,p),n(e,t),n(e,_),n(e,g),n(g,i),n(g,l),n(e,c),n(e,k);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(k,null)},p(r,p){if(p[0]&2&&ee(l,r[1]),p[0]&262152){f=ve(ye);let o;for(o=0;o<f.length;o+=1){const E=Ae(r,f,o);s[o]?s[o].p(E,p):(s[o]=Ue(E),s[o].c(),s[o].m(k,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=f.length}},d(r){r&&d(e),Je(s,r)}}}function qe(a){let e;return{c(){e=H("Active")},l(t){e=O(t,"Active")},m(t,m){w(t,e,m)},d(t){t&&d(e)}}}function Ge(a){let e,t="Buy",m,_;function g(){return a[26](a[46])}return{c(){e=b("button"),e.textContent=t,this.h()},l(i){e=j(i,"BUTTON",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-1oeqzjf"&&(e.textContent=t),this.h()},h(){y(e,"class","svelte-r0jj7x")},m(i,l){w(i,e,l),m||(_=ie(e,"click",g),m=!0)},p(i,l){a=i},d(i){i&&d(e),m=!1,_()}}}function Ue(a){let e,t,m,_,g,i=a[46].name+"",l,c,k,f,s,r=a[46].description+"",p,o,E,U,D=a[46].price+"",M,N,B,V,A=a[46].id===a[3].id&&qe(),S=a[46].id!==a[3].id&&Ge(a);return{c(){e=b("div"),t=b("img"),_=C(),g=b("h3"),l=H(i),c=C(),k=b("p"),A&&A.c(),f=C(),s=b("p"),p=H(r),o=C(),E=b("p"),U=H("Price: "),M=H(D),N=H(" drachmas"),B=C(),S&&S.c(),V=C(),this.h()},l(G){e=j(G,"DIV",{class:!0});var z=R(e);t=j(z,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),_=T(z),g=j(z,"H3",{});var F=R(g);l=O(F,i),F.forEach(d),c=T(z),k=j(z,"P",{class:!0});var K=R(k);A&&A.l(K),K.forEach(d),f=T(z),s=j(z,"P",{});var te=R(s);p=O(te,r),te.forEach(d),o=T(z),E=j(z,"P",{});var Q=R(E);U=O(Q,"Price: "),M=O(Q,D),N=O(Q," drachmas"),Q.forEach(d),B=T(z),S&&S.l(z),V=T(z),z.forEach(d),this.h()},h(){ke(t.src,m=a[46].img)||y(t,"src",m),y(t,"width","46px"),y(t,"height","46px"),y(t,"alt",a[46].name),y(t,"class","svelte-r0jj7x"),y(k,"class","active svelte-r0jj7x"),y(e,"class","menu-item svelte-r0jj7x")},m(G,z){w(G,e,z),n(e,t),n(e,_),n(e,g),n(g,l),n(e,c),n(e,k),A&&A.m(k,null),n(e,f),n(e,s),n(s,p),n(e,o),n(e,E),n(E,U),n(E,M),n(E,N),n(e,B),S&&S.m(e,null),n(e,V)},p(G,z){G[46].id===G[3].id?A||(A=qe(),A.c(),A.m(k,null)):A&&(A.d(1),A=null),G[46].id!==G[3].id?S?S.p(G,z):(S=Ge(G),S.c(),S.m(e,V)):S&&(S.d(1),S=null)},d(G){G&&d(e),A&&A.d(),S&&S.d()}}}function Le(a){let e,t,m="Stage Menu",_,g,i,l,c,k,f=ve(Me),s=[];for(let r=0;r<f.length;r+=1)s[r]=Ze(Ve(a,f,r));return{c(){e=b("div"),t=b("h2"),t.textContent=m,_=C(),g=b("p"),i=H("Experience: "),l=H(a[0]),c=C(),k=b("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=j(r,"DIV",{class:!0});var p=R(e);t=j(p,"H2",{"data-svelte-h":!0}),se(t)!=="svelte-g69gsb"&&(t.textContent=m),_=T(p),g=j(p,"P",{});var o=R(g);i=O(o,"Experience: "),l=O(o,a[0]),o.forEach(d),c=T(p),k=j(p,"DIV",{});var E=R(k);for(let U=0;U<s.length;U+=1)s[U].l(E);E.forEach(d),p.forEach(d),this.h()},h(){y(e,"class","menu svelte-r0jj7x")},m(r,p){w(r,e,p),n(e,t),n(e,_),n(e,g),n(g,i),n(g,l),n(e,c),n(e,k);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(k,null)},p(r,p){if(p[0]&1&&ee(l,r[0]),p[0]&524292){f=ve(Me);let o;for(o=0;o<f.length;o+=1){const E=Ve(r,f,o);s[o]?s[o].p(E,p):(s[o]=Ze(E),s[o].c(),s[o].m(k,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=f.length}},d(r){r&&d(e),Je(s,r)}}}function Fe(a){let e;return{c(){e=H("Active")},l(t){e=O(t,"Active")},m(t,m){w(t,e,m)},d(t){t&&d(e)}}}function Ye(a){let e,t="Battle",m,_;function g(){return a[27](a[43])}return{c(){e=b("button"),e.textContent=t,this.h()},l(i){e=j(i,"BUTTON",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-1pn67pp"&&(e.textContent=t),this.h()},h(){y(e,"class","svelte-r0jj7x")},m(i,l){w(i,e,l),m||(_=ie(e,"click",g),m=!0)},p(i,l){a=i},d(i){i&&d(e),m=!1,_()}}}function Ze(a){let e,t,m=a[43].name+"",_,g,i,l,c,k=a[43].description+"",f,s,r,p,o=a[43].expReq+"",E,U,D,M=a[43].id===a[2].id&&Fe(),N=a[43].id!==a[2].id&&Ye(a);return{c(){e=b("div"),t=b("h3"),_=H(m),g=C(),i=b("p"),M&&M.c(),l=C(),c=b("p"),f=H(k),s=C(),r=b("p"),p=H("Experience requirement: "),E=H(o),U=C(),N&&N.c(),D=C(),this.h()},l(B){e=j(B,"DIV",{class:!0});var V=R(e);t=j(V,"H3",{});var A=R(t);_=O(A,m),A.forEach(d),g=T(V),i=j(V,"P",{class:!0});var S=R(i);M&&M.l(S),S.forEach(d),l=T(V),c=j(V,"P",{});var G=R(c);f=O(G,k),G.forEach(d),s=T(V),r=j(V,"P",{});var z=R(r);p=O(z,"Experience requirement: "),E=O(z,o),z.forEach(d),U=T(V),N&&N.l(V),D=T(V),V.forEach(d),this.h()},h(){y(i,"class","active svelte-r0jj7x"),y(e,"class","menu-item svelte-r0jj7x")},m(B,V){w(B,e,V),n(e,t),n(t,_),n(e,g),n(e,i),M&&M.m(i,null),n(e,l),n(e,c),n(c,f),n(e,s),n(e,r),n(r,p),n(r,E),n(e,U),N&&N.m(e,null),n(e,D)},p(B,V){B[43].id===B[2].id?M||(M=Fe(),M.c(),M.m(i,null)):M&&(M.d(1),M=null),B[43].id!==B[2].id?N?N.p(B,V):(N=Ye(B),N.c(),N.m(e,D)):N&&(N.d(1),N=null)},d(B){B&&d(e),M&&M.d(),N&&N.d()}}}function et(a){let e,t,m,_,g,i=!a[13]&&!a[14]&&He(a),l=!a[14]&&Oe(a),c=!a[13]&&Be(a),k=a[13]&&ze(a),f=a[14]&&Le(a);return{c(){e=b("div"),i&&i.c(),t=C(),l&&l.c(),m=C(),c&&c.c(),_=C(),k&&k.c(),g=C(),f&&f.c(),this.h()},l(s){e=j(s,"DIV",{class:!0});var r=R(e);i&&i.l(r),t=T(r),l&&l.l(r),m=T(r),c&&c.l(r),_=T(r),k&&k.l(r),g=T(r),f&&f.l(r),r.forEach(d),this.h()},h(){y(e,"class","game-container svelte-r0jj7x")},m(s,r){w(s,e,r),i&&i.m(e,null),n(e,t),l&&l.m(e,null),n(e,m),c&&c.m(e,null),n(e,_),k&&k.m(e,null),n(e,g),f&&f.m(e,null)},p(s,r){!s[13]&&!s[14]?i?i.p(s,r):(i=He(s),i.c(),i.m(e,t)):i&&(i.d(1),i=null),s[14]?l&&(l.d(1),l=null):l?l.p(s,r):(l=Oe(s),l.c(),l.m(e,m)),s[13]?c&&(c.d(1),c=null):c?c.p(s,r):(c=Be(s),c.c(),c.m(e,_)),s[13]?k?k.p(s,r):(k=ze(s),k.c(),k.m(e,g)):k&&(k.d(1),k=null),s[14]?f?f.p(s,r):(f=Le(s),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:we,o:we,d(s){s&&d(e),i&&i.d(),l&&l.d(),c&&c.d(),k&&k.d(),f&&f.d()}}}function tt(a,e,t){let m=0,_=0,g=Me[0],i=Te.filter(h=>h.stageId===g.id),l=i[0],c=ye[0],k=!1,f=l.hp+c.hpMod,s=l.mp+c.mpMod,r=Re.filter(h=>h.stageId===g.id),p=r[Math.floor(Math.random()*r.length)],o=p.hp,E="",U=0,D=!1,M=!1,N=!1,B=null,V=null,A=null,S=!1,G=!1;const z=()=>{if(s!==l.mp+c.mpMod&&s+l.mpRegen+c.mpRegenMod<=l.mp+c.mpMod){t(6,s=s+l.mpRegen+c.mpRegenMod);return}t(6,s=l.mp+c.mpMod)},F=(h,I)=>{if(f-(p.attack-p.attack*h)*I<=0){t(9,E="Defeat!"),t(5,f=0);return}t(5,f=f-(p.attack-p.attack*h)*I)},K=(h,I,q)=>{try{const L=l.speed+c.speedMod;let P=(l.defense+c.defenseMod)/100,ae=p.critical/100,Z=1,Y=!1;if(p.attackType==="Magic"&&(P=0),p.speed<L?Y=Math.random()>=.5:Y=Math.random()>=.8,U>1&&!Y&&!h&&(Y=!0),!Y&&h&&t(9,E="Enemy was too slow!"),!Y&&!h){t(6,s=l.mp+c.mpMod),U+=1,le(I,q);return}I===l.attackName&&z(),Y&&h&&t(9,E="Both abilities succeeded."),Y&&!h&&t(9,E="Your summon was too slow!"),Y&&(Math.random()<=ae&&(Z=1.5),p.attackType==="Poison"&&Z===1&&(Z=1.5),F(P,Z),t(12,N=!0),A=setTimeout(()=>t(12,N=!1),500))}catch(L){console.error(L)}},te=(h,I,q,L,P)=>{P==="Lifesteal"&&q&&(f+h*I*.2>l.hp+c.hpMod?t(5,f=l.hp+c.hpMod):t(5,f=f+h*I*.2)),K(q,L,P)},Q=(h,I,q,L,P)=>{h&&(f+I*q>l.hp+c.hpMod?t(5,f=l.hp+c.hpMod):t(5,f=f+I*q)),K(h,L,P)},W=(h,I,q,L,P,ae,Z)=>{if(t(6,s=s-q),Z!=="Heal"){if(o-(I-I*P)*L<=0&&h){t(8,o=0),t(9,E="Victory!"),t(0,m+=p.reward*2),t(1,_+=p.reward),t(10,D=!0),B=setTimeout(()=>t(10,D=!1),500),t(11,M=!0),V=setTimeout(()=>t(11,M=!1),500);return}h&&(t(8,o=o-(I-I*P)*L),t(10,D=!0),B=setTimeout(()=>t(10,D=!1),500),t(11,M=!0),V=setTimeout(()=>t(11,M=!1),500)),te(I,L,h,ae,Z);return}Q(h,I,L,ae,Z)},me=()=>{(f<=0||o<=0)&&(t(5,f=l.hp+c.hpMod),t(6,s=l.mp+c.mpMod),t(7,p=r[Math.floor(Math.random()*r.length)]),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+p.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+p.img.slice(0,-4)+"_attack.png"})`),t(8,o=p.hp),t(9,E=""))},le=(h,I)=>{try{const q=l.attack+c.attackMod,L=l.speed+c.speedMod,P=(l.critical+c.criticalMod)/100;let ae=l.special+c.specialMod,Z=l.specialCost,Y=p.defense/100,u=!1,v=1;if(me(),I==="Magic"&&(Y=0),L<p.speed?u=Math.random()>=.5:u=Math.random()>=.8,Math.random()<=P&&(v=1.5),I==="Poison"&&v===1&&(v=1.5),h===l.attackName){if(o-(q-q*Y)*v<=0&&u){t(8,o=0),t(9,E="Victory!"),t(0,m+=p.reward*2),t(1,_+=p.reward),t(10,D=!0),B=setTimeout(()=>t(10,D=!1),500);return}u&&(t(8,o=o-(q-q*Y)*v),t(10,D=!0),B=setTimeout(()=>t(10,D=!1),500)),K(u,h,I);return}s>=Z?W(u,ae,Z,v,Y,h,I):t(9,E="Not enough MP!")}catch(q){console.error(q)}},J=()=>{try{const h=p;t(5,f=0),me(),t(4,l=Te.find(I=>I.id===h.id)),t(5,f=l.hp+c.hpMod),t(6,s=l.mp+c.mpMod),document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+l.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+l.img.slice(0,-4)+"_hurt.png"})`)}catch(h){console.error(h)}},he=()=>{try{const I=[{label:"Name",value:l.name},{label:"HP",value:l.hp+c.hpMod},{label:"Speed",value:l.speed+c.speedMod},{label:"Defense",value:l.defense+c.defenseMod},{label:"Critical",value:l.critical+c.criticalMod},{label:"MP",value:l.mp+c.mpMod},{label:"MP Regen",value:l.mpRegen+c.mpRegenMod},{label:`
Attack Name`,value:l.attackName},{label:"Attack",value:l.attack+c.attackMod},{label:"Attack Type",value:l.attackType},{label:`
Special Name`,value:l.specialName},{label:"Special",value:l.special+c.specialMod},{label:"Special Cost",value:l.specialCost},{label:"Special Type",value:l.specialType}].map(q=>`${q.label}: ${q.value}`).join(`
`);alert(I)}catch(h){console.error(h)}},ne=()=>{k&&(localStorage.setItem("drachmas",_),localStorage.setItem("playerExperience",m),localStorage.setItem("chosenRelicId",c.id),localStorage.setItem("curStageId",g.id))},X=h=>{if(_>=h.price){t(1,_-=h.price),t(3,c=h),window.location.reload();return}alert("Not enough drachmas!")},ce=h=>{if(m>=h.expReq){t(2,g=h),window.location.reload();return}alert("Not enough experience!")};Qe(()=>{try{const h=localStorage.getItem("drachmas"),I=localStorage.getItem("playerExperience"),q=localStorage.getItem("chosenRelicId"),L=localStorage.getItem("curStageId");Ne.set(!0),h&&t(1,_=parseInt(h)),I&&t(0,m=parseInt(I)),q&&t(3,c=ye.find(P=>P.id===parseInt(q))),L&&t(2,g=Me.find(P=>P.id===parseInt(L))),i=Te.filter(P=>P.stageId===g.id),t(4,l=i[0]),t(5,f=l.hp+c.hpMod),t(6,s=l.mp+c.mpMod),document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+l.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+l.img.slice(0,-4)+"_hurt.png"})`),r=Re.filter(P=>P.stageId===g.id),t(7,p=r[Math.floor(Math.random()*r.length)]),t(8,o=p.hp),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+p.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+p.img.slice(0,-4)+"_attack.png"})`),k=!0}catch(h){console.error(h)}}),We(()=>{Ne.set(!1),clearTimeout(B),clearTimeout(V),clearTimeout(A)});const oe=()=>le(l.attackName,l.attackType),x=()=>le(l.specialName,l.specialType),_e=()=>J(),pe=()=>he(),ue=()=>t(13,S=!S),$=()=>t(14,G=!G),ge=h=>X(h),fe=h=>ce(h);return a.$$.update=()=>{a.$$.dirty[0]&15&&ne()},[m,_,g,c,l,f,s,p,o,E,D,M,N,S,G,le,J,he,X,ce,oe,x,_e,pe,ue,$,ge,fe]}class it extends xe{constructor(e){super(),$e(this,e,tt,et,Ke,{},null,[-1,-1])}}export{it as component};
