import{s as We,n as Be,q as _e,u as Ge,r as $e,o as et,v as tt,b as ze,w as Ue}from"../chunks/scheduler._mAIQsFs.js";import{S as Xe,i as xe,e as M,s as P,c as y,a as V,y as me,f as S,d as I,o as m,g as ke,h as r,z as lt,t as O,b as B,A as pe,B as se,j as re,n as Ee,l as Ne,m as st,C as Le,u as at,v as rt,w as ct,x as ot,q as nt}from"../chunks/index.BnQh_n5q.js";import{i as qe}from"../chunks/store.2yGRjiqK.js";import{e as Je}from"../chunks/each.D6YF6ztN.js";const ye=[{id:1,name:"Demon",img:"demon_creature.png",hp:60,attack:50,attackName:"Slash",attackType:"Normal",speed:60,defense:20,critical:25,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Harvest",specialType:"Lifesteal",specialEffect:"special-effect-1"},{id:2,name:"Lizard",img:"lizard_creature.png",hp:110,attack:30,attackName:"Impale",attackType:"Normal",speed:30,defense:15,critical:15,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Inject",specialType:"Poison",specialEffect:"special-effect-2"}],Ve=[{id:1,name:"Gust of Hermes",img:"relic1.png",description:"Grants the user's summon +5 speed while relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:5,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:0},{id:2,name:"Spark of Zeus",img:"relic2.png",description:"Grants the user's summon +15 attack while relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:15,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:150},{id:3,name:"Cup of Dionysus",img:"relic3.png",description:"Grants the user's summon +25 MP regen while relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:25,specialMod:0,price:300}],be=[{id:1,name:"Demon",img:"demon_creature.png",reward:3,hp:60,attack:50,attackType:"Normal",speed:60,defense:20,critical:25},{id:2,name:"Lizard",img:"lizard_creature.png",reward:3,hp:110,attack:30,attackType:"Normal",speed:30,defense:15,critical:15}];function Ye(s,t,e){const f=s.slice();return f[4]=t[e],f}function Ze(s){let t;return{c(){t=O("Active")},l(e){t=B(e,"Active")},m(e,f){ke(e,t,f)},d(e){e&&I(t)}}}function Fe(s){let t,e="Buy",f,_;function l(){return s[3](s[4])}return{c(){t=M("button"),t.textContent=e,this.h()},l(a){t=y(a,"BUTTON",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-yl076z"&&(t.textContent=e),this.h()},h(){m(t,"class","svelte-nnoa37")},m(a,o){ke(a,t,o),f||(_=pe(t,"click",l),f=!0)},p(a,o){s=a},d(a){a&&I(t),f=!1,_()}}}function Ke(s){let t,e,f,_,l,a=s[4].name+"",o,c,n,d,u,A=s[4].description+"",j,X,k,b,K=s[4].price+"",q,Q,Z,z,R=s[4].id===s[0].id&&Ze(),T=s[4].id!==s[0].id&&Fe(s);return{c(){t=M("div"),e=M("img"),_=P(),l=M("h3"),o=O(a),c=P(),n=M("p"),R&&R.c(),d=P(),u=M("p"),j=O(A),X=P(),k=M("p"),b=O("Price: "),q=O(K),Q=O(" drachmas"),Z=P(),T&&T.c(),z=P(),this.h()},l(g){t=y(g,"DIV",{class:!0});var C=V(t);e=y(C,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),_=S(C),l=y(C,"H3",{});var x=V(l);o=B(x,a),x.forEach(I),c=S(C),n=y(C,"P",{class:!0});var te=V(n);R&&R.l(te),te.forEach(I),d=S(C),u=y(C,"P",{});var J=V(u);j=B(J,A),J.forEach(I),X=S(C),k=y(C,"P",{});var F=V(k);b=B(F,"Price: "),q=B(F,K),Q=B(F," drachmas"),F.forEach(I),Z=S(C),T&&T.l(C),z=S(C),C.forEach(I),this.h()},h(){_e(e.src,f=s[4].img)||m(e,"src",f),m(e,"width","46px"),m(e,"height","46px"),m(e,"alt",s[4].name),m(e,"class","svelte-nnoa37"),m(n,"class","active svelte-nnoa37"),m(t,"class","relic svelte-nnoa37")},m(g,C){ke(g,t,C),r(t,e),r(t,_),r(t,l),r(l,o),r(t,c),r(t,n),R&&R.m(n,null),r(t,d),r(t,u),r(u,j),r(t,X),r(t,k),r(k,b),r(k,q),r(k,Q),r(t,Z),T&&T.m(t,null),r(t,z)},p(g,C){g[4].id===g[0].id?R||(R=Ze(),R.c(),R.m(n,null)):R&&(R.d(1),R=null),g[4].id!==g[0].id?T?T.p(g,C):(T=Fe(g),T.c(),T.m(t,z)):T&&(T.d(1),T=null)},d(g){g&&I(t),R&&R.d(),T&&T.d()}}}function it(s){let t,e,f="Relic Store",_,l,a=Je(Ve),o=[];for(let c=0;c<a.length;c+=1)o[c]=Ke(Ye(s,a,c));return{c(){t=M("div"),e=M("h2"),e.textContent=f,_=P(),l=M("div");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){t=y(c,"DIV",{class:!0});var n=V(t);e=y(n,"H2",{"data-svelte-h":!0}),me(e)!=="svelte-6gh0hs"&&(e.textContent=f),_=S(n),l=y(n,"DIV",{});var d=V(l);for(let u=0;u<o.length;u+=1)o[u].l(d);d.forEach(I),n.forEach(I),this.h()},h(){m(t,"class","store svelte-nnoa37")},m(c,n){ke(c,t,n),r(t,e),r(t,_),r(t,l);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(l,null)},p(c,[n]){if(n&3){a=Je(Ve);let d;for(d=0;d<a.length;d+=1){const u=Ye(c,a,d);o[d]?o[d].p(u,n):(o[d]=Ke(u),o[d].c(),o[d].m(l,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=a.length}},i:Be,o:Be,d(c){c&&I(t),lt(o,c)}}}function ut(s,t,e){let{drachmas:f}=t,{chosenRelic:_}=t;const l=o=>{if(f>=o.price){e(2,f-=o.price),e(0,_=o),window.location.reload();return}alert("Not enough drachmas!")},a=o=>l(o);return s.$$set=o=>{"drachmas"in o&&e(2,f=o.drachmas),"chosenRelic"in o&&e(0,_=o.chosenRelic)},[_,l,f,a]}class pt extends Xe{constructor(t){super(),xe(this,t,ut,it,We,{drachmas:2,chosenRelic:0})}}function Qe(s){let t,e,f,_;function l(c){s[21](c)}function a(c){s[22](c)}let o={};return s[1]!==void 0&&(o.drachmas=s[1]),s[2]!==void 0&&(o.chosenRelic=s[2]),t=new pt({props:o}),ze.push(()=>Le(t,"drachmas",l)),ze.push(()=>Le(t,"chosenRelic",a)),{c(){at(t.$$.fragment)},l(c){rt(t.$$.fragment,c)},m(c,n){ct(t,c,n),_=!0},p(c,n){const d={};!e&&n[0]&2&&(e=!0,d.drachmas=c[1],Ue(()=>e=!1)),!f&&n[0]&4&&(f=!0,d.chosenRelic=c[2],Ue(()=>f=!1)),t.$set(d)},i(c){_||(Ee(t.$$.fragment,c),_=!0)},o(c){Ne(t.$$.fragment,c),_=!1},d(c){ot(t,c)}}}function mt(s){let t,e,f,_,l,a,o,c,n,d,u,A,j,X,k,b,K,q,Q,Z,z,R,T,g,C,x,te,J,F="Attack",ce,W,ve="Special Attack",fe,le,oe,de,$,he,ne,p,h,E,N,G,U,Y="Swap Summon",H,L,ee="View Stats",Ce,ae,ge=s[12]?"Close Relic Store":"Open Relic Store",Me,Ie,w,Re,Ae,D=s[12]&&Qe(s);return{c(){t=M("div"),e=M("div"),f=M("div"),_=O("Player HP: "),l=O(s[4]),a=P(),o=M("div"),c=O("Player MP: "),n=O(s[5]),d=P(),u=M("div"),A=O("Enemy HP: "),j=O(s[7]),X=P(),k=M("div"),b=M("img"),Q=P(),Z=M("div"),z=M("div"),T=P(),g=M("img"),te=P(),J=M("button"),J.textContent=F,ce=P(),W=M("button"),W.textContent=ve,fe=P(),le=M("div"),oe=O(s[8]),de=P(),$=M("div"),he=O("Experience: "),ne=O(s[0]),p=P(),h=M("div"),E=O("Drachmas: "),N=O(s[1]),G=P(),U=M("button"),U.textContent=Y,H=P(),L=M("button"),L.textContent=ee,Ce=P(),ae=M("button"),Me=O(ge),Ie=P(),D&&D.c(),this.h()},l(v){t=y(v,"DIV",{class:!0});var i=V(t);e=y(i,"DIV",{class:!0});var ie=V(e);f=y(ie,"DIV",{});var Te=V(f);_=B(Te,"Player HP: "),l=B(Te,s[4]),Te.forEach(I),a=S(ie),o=y(ie,"DIV",{});var Pe=V(o);c=B(Pe,"Player MP: "),n=B(Pe,s[5]),Pe.forEach(I),d=S(ie),u=y(ie,"DIV",{});var Se=V(u);A=B(Se,"Enemy HP: "),j=B(Se,s[7]),Se.forEach(I),ie.forEach(I),X=S(i),k=y(i,"DIV",{class:!0});var ue=V(k);b=y(ue,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),Q=S(ue),Z=y(ue,"DIV",{class:!0});var je=V(Z);z=y(je,"DIV",{class:!0}),V(z).forEach(I),je.forEach(I),T=S(ue),g=y(ue,"IMG",{class:!0,src:!0,width:!0,height:!0,alt:!0}),ue.forEach(I),te=S(i),J=y(i,"BUTTON",{class:!0,"data-svelte-h":!0}),me(J)!=="svelte-ig8gg4"&&(J.textContent=F),ce=S(i),W=y(i,"BUTTON",{class:!0,"data-svelte-h":!0}),me(W)!=="svelte-11zl5of"&&(W.textContent=ve),fe=S(i),le=y(i,"DIV",{class:!0});var He=V(le);oe=B(He,s[8]),He.forEach(I),de=S(i),$=y(i,"DIV",{class:!0});var we=V($);he=B(we,"Experience: "),ne=B(we,s[0]),we.forEach(I),p=S(i),h=y(i,"DIV",{class:!0});var De=V(h);E=B(De,"Drachmas: "),N=B(De,s[1]),De.forEach(I),G=S(i),U=y(i,"BUTTON",{class:!0,"data-svelte-h":!0}),me(U)!=="svelte-1c1ym4l"&&(U.textContent=Y),H=S(i),L=y(i,"BUTTON",{class:!0,"data-svelte-h":!0}),me(L)!=="svelte-z72cka"&&(L.textContent=ee),Ce=S(i),ae=y(i,"BUTTON",{class:!0});var Oe=V(ae);Me=B(Oe,ge),Oe.forEach(I),Ie=S(i),D&&D.l(i),i.forEach(I),this.h()},h(){m(e,"class","stats svelte-14ufh4l"),_e(b.src,K=s[3].img)||m(b,"src",K),m(b,"width","128px"),m(b,"height","128px"),m(b,"alt",q=s[3].name),m(b,"class","svelte-14ufh4l"),se(b,"attack",s[9]),se(b,"hurt",s[11]),m(z,"class",R=Ge(s[10]?s[3].specialEffect:"")+" svelte-14ufh4l"),m(Z,"class","special-effect-container svelte-14ufh4l"),m(g,"class","enemy-creature svelte-14ufh4l"),_e(g.src,C=s[6].img)||m(g,"src",C),m(g,"width","128px"),m(g,"height","128px"),m(g,"alt",x=s[6].name),se(g,"enemy-attack",s[11]),se(g,"enemy-hurt",s[9]),m(k,"class","creatures svelte-14ufh4l"),m(J,"class","svelte-14ufh4l"),m(W,"class","svelte-14ufh4l"),m(le,"class","combat-alert svelte-14ufh4l"),m($,"class","experience svelte-14ufh4l"),m(h,"class","drachmas svelte-14ufh4l"),m(U,"class","svelte-14ufh4l"),m(L,"class","svelte-14ufh4l"),m(ae,"class","svelte-14ufh4l"),m(t,"class","game-container svelte-14ufh4l")},m(v,i){ke(v,t,i),r(t,e),r(e,f),r(f,_),r(f,l),r(e,a),r(e,o),r(o,c),r(o,n),r(e,d),r(e,u),r(u,A),r(u,j),r(t,X),r(t,k),r(k,b),r(k,Q),r(k,Z),r(Z,z),r(k,T),r(k,g),r(t,te),r(t,J),r(t,ce),r(t,W),r(t,fe),r(t,le),r(le,oe),r(t,de),r(t,$),r($,he),r($,ne),r(t,p),r(t,h),r(h,E),r(h,N),r(t,G),r(t,U),r(t,H),r(t,L),r(t,Ce),r(t,ae),r(ae,Me),r(t,Ie),D&&D.m(t,null),w=!0,Re||(Ae=[pe(J,"click",s[16]),pe(W,"click",s[17]),pe(U,"click",s[18]),pe(L,"click",s[19]),pe(ae,"click",s[20])],Re=!0)},p(v,i){(!w||i[0]&16)&&re(l,v[4]),(!w||i[0]&32)&&re(n,v[5]),(!w||i[0]&128)&&re(j,v[7]),(!w||i[0]&8&&!_e(b.src,K=v[3].img))&&m(b,"src",K),(!w||i[0]&8&&q!==(q=v[3].name))&&m(b,"alt",q),(!w||i[0]&512)&&se(b,"attack",v[9]),(!w||i[0]&2048)&&se(b,"hurt",v[11]),(!w||i[0]&1032&&R!==(R=Ge(v[10]?v[3].specialEffect:"")+" svelte-14ufh4l"))&&m(z,"class",R),(!w||i[0]&64&&!_e(g.src,C=v[6].img))&&m(g,"src",C),(!w||i[0]&64&&x!==(x=v[6].name))&&m(g,"alt",x),(!w||i[0]&2048)&&se(g,"enemy-attack",v[11]),(!w||i[0]&512)&&se(g,"enemy-hurt",v[9]),(!w||i[0]&256)&&re(oe,v[8]),(!w||i[0]&1)&&re(ne,v[0]),(!w||i[0]&2)&&re(N,v[1]),(!w||i[0]&4096)&&ge!==(ge=v[12]?"Close Relic Store":"Open Relic Store")&&re(Me,ge),v[12]?D?(D.p(v,i),i[0]&4096&&Ee(D,1)):(D=Qe(v),D.c(),Ee(D,1),D.m(t,null)):D&&(nt(),Ne(D,1,1,()=>{D=null}),st())},i(v){w||(Ee(D),w=!0)},o(v){Ne(D),w=!1},d(v){v&&I(t),D&&D.d(),Re=!1,$e(Ae)}}}function ft(s,t,e){let f=0,_=0,l=ye[0],a=Ve[0],o=!1,c=l.hp+a.hpMod,n=l.mp+a.mpMod,d=n,u=be[Math.floor(Math.random()*be.length)],A=u.hp,j="",X=0,k=!1,b=!1,K=!1,q=null,Q=null,Z=null,z=!1;const R=()=>{if(n!==l.mp+a.mpMod&&n+l.mpRegen+a.mpRegenMod<=l.mp+a.mpMod){e(5,n=n+l.mpRegen+a.mpRegenMod);return}e(5,n=l.mp+a.mpMod)},T=(p,h)=>{if(c-(u.attack-u.attack*p)*h<=0){e(8,j="Defeat!"),e(4,c=0);return}e(4,c=c-(u.attack-u.attack*p)*h)},g=(p,h,E)=>{try{const N=l.speed+a.speedMod;let G=(l.defense+a.defenseMod)/100,U=u.critical/100,Y=1,H=!1;if(u.attackType==="Magic"&&(G=0),u.speed<N?H=Math.random()>=.5:H=Math.random()>=.8,X>1&&!H&&!p&&(H=!0),!H&&p&&e(8,j="Enemy was too slow!"),!H&&!p){e(5,n=d),X+=1,F(h,E);return}h===l.attackName&&R(),H&&p&&e(8,j="Both abilities succeeded."),H&&!p&&e(8,j="Your summon was too slow!"),H&&(Math.random()<=U&&(Y=1.5),u.attackType==="Poison"&&Y===1&&(Y=1.5),T(G,Y),e(11,K=!0),Z=setTimeout(()=>e(11,K=!1),500))}catch(N){console.error(N)}},C=(p,h,E,N,G)=>{G==="Lifesteal"&&E&&(c+p*h*.2>l.hp+a.hpMod?e(4,c=l.hp+a.hpMod):e(4,c=c+p*h*.2)),g(E,N,G)},x=(p,h,E,N,G)=>{p&&(c+h*E>l.hp+a.hpMod?e(4,c=l.hp+a.hpMod):e(4,c=c+h*E)),g(p,N,G)},te=(p,h,E,N,G,U,Y)=>{if(e(5,n=n-E),Y!=="Heal"){if(A-(h-h*G)*N<=0&&p){e(7,A=0),e(8,j="Victory!"),e(0,f+=u.reward*2),e(1,_+=u.reward),e(9,k=!0),q=setTimeout(()=>e(9,k=!1),500),e(10,b=!0),Q=setTimeout(()=>e(10,b=!1),500);return}p&&(e(7,A=A-(h-h*G)*N),e(9,k=!0),q=setTimeout(()=>e(9,k=!1),500),e(10,b=!0),Q=setTimeout(()=>e(10,b=!1),500)),C(h,N,p,U,Y);return}x(p,h,N,U,Y)},J=()=>{(c<=0||A<=0)&&(e(4,c=l.hp+a.hpMod),e(5,n=l.mp+a.mpMod),e(6,u=be[Math.floor(Math.random()*be.length)]),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+u.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+u.img.slice(0,-4)+"_attack.png"})`),e(7,A=u.hp),e(8,j=""))},F=(p,h)=>{try{const E=l.attack+a.attackMod,N=l.speed+a.speedMod,G=(l.critical+a.criticalMod)/100;let U=l.special+a.specialMod,Y=l.specialCost,H=u.defense/100,L=!1,ee=1;if(J(),h==="Magic"&&(H=0),N<u.speed?L=Math.random()>=.5:L=Math.random()>=.8,Math.random()<=G&&(ee=1.5),h==="Poison"&&ee===1&&(ee=1.5),p===l.attackName){if(A-(E-E*H)*ee<=0&&L){e(7,A=0),e(8,j="Victory!"),e(0,f+=u.reward*2),e(1,_+=u.reward),e(9,k=!0),q=setTimeout(()=>e(9,k=!1),500);return}L&&(e(7,A=A-(E-E*H)*ee),e(9,k=!0),q=setTimeout(()=>e(9,k=!1),500)),g(L,p,h);return}n>=Y?te(L,U,Y,ee,H,p,h):e(8,j="Not enough MP!")}catch(E){console.error(E)}},ce=()=>{try{if(e(4,c=0),J(),l===ye[0]){e(3,l=ye[1]),e(4,c=l.hp+a.hpMod),e(5,n=l.mp+a.mpMod),d=n,document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+l.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+l.img.slice(0,-4)+"_hurt.png"})`);return}e(3,l=ye[0]),e(4,c=l.hp+a.hpMod),e(5,n=l.mp+a.mpMod),d=n,document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+l.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+l.img.slice(0,-4)+"_hurt.png"})`)}catch(p){console.error(p)}},W=()=>{try{const h=[{label:"ID",value:l.id},{label:"Name",value:l.name},{label:"HP",value:l.hp+a.hpMod},{label:"Speed",value:l.speed+a.speedMod},{label:"Defense",value:l.defense+a.defenseMod},{label:"Critical",value:l.critical+a.criticalMod},{label:"MP",value:l.mp+a.mpMod},{label:"MP Regen",value:l.mpRegen+a.mpRegenMod},{label:`
Attack Name`,value:l.attackName},{label:"Attack",value:l.attack+a.attackMod},{label:"Attack Type",value:l.attackType},{label:`
Special Name`,value:l.specialName},{label:"Special",value:l.special+a.specialMod},{label:"Special Cost",value:l.specialCost},{label:"Special Type",value:l.specialType}].map(E=>`${E.label}: ${E.value}`).join(`
`);alert(h)}catch(p){console.error(p)}},ve=()=>{o&&(localStorage.setItem("drachmas",_),localStorage.setItem("playerExperience",f),localStorage.setItem("chosenRelic",JSON.stringify(a)))};et(()=>{try{const p=localStorage.getItem("drachmas"),h=localStorage.getItem("playerExperience"),E=localStorage.getItem("chosenRelic");qe.set(!0),document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+l.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+l.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+u.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+u.img.slice(0,-4)+"_attack.png"})`),p&&e(1,_=parseInt(p)),h&&e(0,f=parseInt(h)),E&&e(2,a=JSON.parse(E)),o=!0}catch(p){console.error(p)}}),tt(()=>{qe.set(!1),clearTimeout(q),clearTimeout(Q),clearTimeout(Z)});const fe=()=>F(l.attackName,l.attackType),le=()=>F(l.specialName,l.specialType),oe=()=>ce(),de=()=>W(),$=()=>e(12,z=!z);function he(p){_=p,e(1,_)}function ne(p){a=p,e(2,a)}return s.$$.update=()=>{s.$$.dirty[0]&7&&ve()},[f,_,a,l,c,n,u,A,j,k,b,K,z,F,ce,W,fe,le,oe,de,$,he,ne]}class kt extends Xe{constructor(t){super(),xe(this,t,ft,mt,We,{},null,[-1,-1])}}export{kt as component};
