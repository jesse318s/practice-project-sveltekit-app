import{s as De,d as oe,e as Pe,n as ze,r as we,o as Ne,f as qe}from"../chunks/scheduler.BoReh3vH.js";import{S as Re,i as Se,e as y,t as R,s as z,c as v,a as S,b as V,d as I,f as D,y as ne,o as n,z as K,g as Ve,h as a,A as pe,j as ae}from"../chunks/index.DhL7nboW.js";import{i as Ie}from"../chunks/store.BxR7W1V8.js";const ie=[{id:1,name:"Demon",img:"demon_creature.png",hp:60,attack:50,attackName:"Slash",attackType:"Normal",speed:60,defense:20,critical:25,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Harvest",specialType:"Lifesteal",specialEffect:"special-effect-1"},{id:2,name:"Lizard",img:"lizard_creature.png",hp:110,attack:30,attackName:"Impale",attackType:"Normal",speed:30,defense:15,critical:15,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Inject",specialType:"Poison",specialEffect:"special-effect-2"}],je=[{id:1,name:"Gust of Hermes",img:"relic1.png",description:"Grants the user's summon +5 speed while relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:5,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:0},{id:2,name:"Spark of Zeus",img:"relic2.png",description:"Grants the user's summon +15 attack while relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:15,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:150},{id:3,name:"Cup of Dionysus",img:"relic3.png",description:"Grants the user's summon +25 MP regen while relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:25,specialMod:0,price:300}],me=[{id:1,name:"Demon",img:"demon_creature.png",reward:3,hp:60,attack:50,attackType:"Normal",speed:60,defense:20,critical:25},{id:2,name:"Lizard",img:"lizard_creature.png",reward:3,hp:110,attack:30,attackType:"Normal",speed:30,defense:15,critical:15}];function Ae(o){let p,e,j,Q,t,l,m,g,B,i,M,T,W,P,b,k,A,L,x,O,U,Y,se,_,$,X,Z,w,le="Attack",re,G,ue="Special Attack",ce,r,c,u,d,E,N,C,f,H,q,de,F,ve="Swap Summon",fe,J,be="View Stats",he,Ee;return{c(){p=y("div"),e=y("div"),j=y("div"),Q=R("Player HP: "),t=R(o[3]),l=z(),m=y("div"),g=R("Player MP: "),B=R(o[4]),i=z(),M=y("div"),T=R("Enemy HP: "),W=R(o[6]),P=z(),b=y("div"),k=y("img"),x=z(),O=y("div"),U=y("div"),se=z(),_=y("img"),Z=z(),w=y("button"),w.textContent=le,re=z(),G=y("button"),G.textContent=ue,ce=z(),r=y("div"),c=R(o[7]),u=z(),d=y("div"),E=R("Experience: "),N=R(o[0]),C=z(),f=y("div"),H=R("Drachmas: "),q=R(o[1]),de=z(),F=y("button"),F.textContent=ve,fe=z(),J=y("button"),J.textContent=be,this.h()},l(h){p=v(h,"DIV",{class:!0});var s=S(p);e=v(s,"DIV",{class:!0});var ee=S(e);j=v(ee,"DIV",{});var ge=S(j);Q=V(ge,"Player HP: "),t=V(ge,o[3]),ge.forEach(I),l=D(ee),m=v(ee,"DIV",{});var ke=S(m);g=V(ke,"Player MP: "),B=V(ke,o[4]),ke.forEach(I),i=D(ee),M=v(ee,"DIV",{});var Me=S(M);T=V(Me,"Enemy HP: "),W=V(Me,o[6]),Me.forEach(I),ee.forEach(I),P=D(s),b=v(s,"DIV",{class:!0});var te=S(b);k=v(te,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),x=D(te),O=v(te,"DIV",{class:!0});var Ce=S(O);U=v(Ce,"DIV",{class:!0}),S(U).forEach(I),Ce.forEach(I),se=D(te),_=v(te,"IMG",{class:!0,src:!0,width:!0,height:!0,alt:!0}),te.forEach(I),Z=D(s),w=v(s,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(w)!=="svelte-ig8gg4"&&(w.textContent=le),re=D(s),G=v(s,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(G)!=="svelte-11zl5of"&&(G.textContent=ue),ce=D(s),r=v(s,"DIV",{class:!0});var Te=S(r);c=V(Te,o[7]),Te.forEach(I),u=D(s),d=v(s,"DIV",{class:!0});var _e=S(d);E=V(_e,"Experience: "),N=V(_e,o[0]),_e.forEach(I),C=D(s),f=v(s,"DIV",{class:!0});var ye=S(f);H=V(ye,"Drachmas: "),q=V(ye,o[1]),ye.forEach(I),de=D(s),F=v(s,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(F)!=="svelte-1c1ym4l"&&(F.textContent=ve),fe=D(s),J=v(s,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(J)!=="svelte-z72cka"&&(J.textContent=be),s.forEach(I),this.h()},h(){n(e,"class","stats svelte-qz431e"),oe(k.src,A=o[2].img)||n(k,"src",A),n(k,"width","128px"),n(k,"height","128px"),n(k,"alt",L=o[2].name),n(k,"class","svelte-qz431e"),K(k,"attack",o[8]),K(k,"hurt",o[10]),n(U,"class",Y=Pe(o[9]?o[2].specialEffect:"")+" svelte-qz431e"),n(O,"class","special-effect-container svelte-qz431e"),n(_,"class","enemy-creature svelte-qz431e"),oe(_.src,$=o[5].img)||n(_,"src",$),n(_,"width","128px"),n(_,"height","128px"),n(_,"alt",X=o[5].name),K(_,"enemy-attack",o[10]),K(_,"enemy-hurt",o[8]),n(b,"class","creatures svelte-qz431e"),n(w,"class","svelte-qz431e"),n(G,"class","svelte-qz431e"),n(r,"class","combat-alert svelte-qz431e"),n(d,"class","experience svelte-qz431e"),n(f,"class","drachmas svelte-qz431e"),n(F,"class","svelte-qz431e"),n(J,"class","svelte-qz431e"),n(p,"class","game-container svelte-qz431e")},m(h,s){Ve(h,p,s),a(p,e),a(e,j),a(j,Q),a(j,t),a(e,l),a(e,m),a(m,g),a(m,B),a(e,i),a(e,M),a(M,T),a(M,W),a(p,P),a(p,b),a(b,k),a(b,x),a(b,O),a(O,U),a(b,se),a(b,_),a(p,Z),a(p,w),a(p,re),a(p,G),a(p,ce),a(p,r),a(r,c),a(p,u),a(p,d),a(d,E),a(d,N),a(p,C),a(p,f),a(f,H),a(f,q),a(p,de),a(p,F),a(p,fe),a(p,J),he||(Ee=[pe(w,"click",o[14]),pe(G,"click",o[15]),pe(F,"click",o[16]),pe(J,"click",o[17])],he=!0)},p(h,[s]){s&8&&ae(t,h[3]),s&16&&ae(B,h[4]),s&64&&ae(W,h[6]),s&4&&!oe(k.src,A=h[2].img)&&n(k,"src",A),s&4&&L!==(L=h[2].name)&&n(k,"alt",L),s&256&&K(k,"attack",h[8]),s&1024&&K(k,"hurt",h[10]),s&516&&Y!==(Y=Pe(h[9]?h[2].specialEffect:"")+" svelte-qz431e")&&n(U,"class",Y),s&32&&!oe(_.src,$=h[5].img)&&n(_,"src",$),s&32&&X!==(X=h[5].name)&&n(_,"alt",X),s&1024&&K(_,"enemy-attack",h[10]),s&256&&K(_,"enemy-hurt",h[8]),s&128&&ae(c,h[7]),s&1&&ae(N,h[0]),s&2&&ae(q,h[1])},i:ze,o:ze,d(h){h&&I(p),he=!1,we(Ee)}}}function He(o,p,e){let j=0,Q=0,t=ie[0],l=je[0],m=t.hp+l.hpMod,g=t.mp+l.mpMod,B=g,i=me[Math.floor(Math.random()*me.length)],M=i.hp,T="",W=0,P=!1,b=!1,k=!1,A=null,L=null,x=null;const O=()=>{if(g!==t.mp+l.mpMod&&g+t.mpRegen+l.mpRegenMod<=t.mp+l.mpMod){e(4,g=g+t.mpRegen+l.mpRegenMod);return}e(4,g=t.mp+l.mpMod)},U=(r,c)=>{if(m-(i.attack-i.attack*r)*c<=0){e(7,T="Defeat!"),e(3,m=0);return}e(3,m=m-(i.attack-i.attack*r)*c)},Y=(r,c,u)=>{try{const d=t.speed+l.speedMod;let E=(t.defense+l.defenseMod)/100,N=i.critical/100,C=1,f=!1;if(i.attackType==="Magic"&&(E=0),i.speed<d?f=Math.random()>=.5:f=Math.random()>=.8,W>1&&!f&&!r&&(f=!0),!f&&r&&e(7,T="Enemy was too slow!"),!f&&!r){e(4,g=B),W+=1,Z(c,u);return}c===t.attackName&&O(),f&&r&&e(7,T="Both abilities succeeded."),f&&!r&&e(7,T="Your summon was too slow!"),f&&(Math.random()<=N&&(C=1.5),i.attackType==="Poison"&&C===1&&(C=1.5),U(E,C),e(10,k=!0),x=setTimeout(()=>e(10,k=!1),500))}catch(d){console.error(d)}},se=(r,c,u,d,E)=>{E==="Lifesteal"&&u&&(m+r*c*.2>t.hp+l.hpMod?e(3,m=t.hp+l.hpMod):e(3,m=m+r*c*.2)),Y(u,d,E)},_=(r,c,u,d,E)=>{r&&(m+c*u>t.hp+l.hpMod?e(3,m=t.hp+l.hpMod):e(3,m=m+c*u)),Y(r,d,E)},$=(r,c,u,d,E,N,C)=>{if(e(4,g=g-u),C!=="Heal"){if(M-(c-c*E)*d<=0&&r){e(6,M=0),e(7,T="Victory!"),e(0,j+=i.reward*2),e(1,Q+=i.reward),e(8,P=!0),A=setTimeout(()=>e(8,P=!1),500),e(9,b=!0),L=setTimeout(()=>e(9,b=!1),500);return}r&&(e(6,M=M-(c-c*E)*d),e(8,P=!0),A=setTimeout(()=>e(8,P=!1),500),e(9,b=!0),L=setTimeout(()=>e(9,b=!1),500)),se(c,d,r,N,C);return}_(r,c,d,N,C)},X=()=>{(m<=0||M<=0)&&(e(3,m=t.hp+l.hpMod),e(4,g=t.mp+l.mpMod),e(5,i=me[Math.floor(Math.random()*me.length)]),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+i.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+i.img.slice(0,-4)+"_attack.png"})`),e(6,M=i.hp),e(7,T=""))},Z=(r,c)=>{try{const u=t.attack+l.attackMod,d=t.speed+l.speedMod,E=(t.critical+l.criticalMod)/100;let N=t.special+l.specialMod,C=t.specialCost,f=i.defense/100,H=!1,q=1;if(X(),c==="Magic"&&(f=0),d<i.speed?H=Math.random()>=.5:H=Math.random()>=.8,Math.random()<=E&&(q=1.5),c==="Poison"&&q===1&&(q=1.5),r===t.attackName){if(M-(u-u*f)*q<=0&&H){e(6,M=0),e(7,T="Victory!"),e(0,j+=i.reward*2),e(1,Q+=i.reward),e(8,P=!0),A=setTimeout(()=>e(8,P=!1),500);return}H&&(e(6,M=M-(u-u*f)*q),e(8,P=!0),A=setTimeout(()=>e(8,P=!1),500)),Y(H,r,c);return}g>=C?$(H,N,C,q,f,r,c):e(7,T="Not enough MP!")}catch(u){console.error(u)}},w=()=>{try{if(e(3,m=0),X(),t===ie[0]){e(2,t=ie[1]),e(3,m=t.hp+l.hpMod),e(4,g=t.mp+l.mpMod),B=g,document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`);return}e(2,t=ie[0]),e(3,m=t.hp+l.hpMod),e(4,g=t.mp+l.mpMod),B=g,document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`)}catch(r){console.error(r)}},le=()=>{try{const c=[{label:"ID",value:t.id},{label:"Name",value:t.name},{label:"HP",value:t.hp+l.hpMod},{label:"Speed",value:t.speed+l.speedMod},{label:"Defense",value:t.defense+l.defenseMod},{label:"Critical",value:t.critical+l.criticalMod},{label:"MP",value:t.mp+l.mpMod},{label:"MP Regen",value:t.mpRegen+l.mpRegenMod},{label:`
Attack Name`,value:t.attackName},{label:"Attack",value:t.attack+l.attackMod},{label:"Attack Type",value:t.attackType},{label:`
Special Name`,value:t.specialName},{label:"Special",value:t.special+l.specialMod},{label:"Special Cost",value:t.specialCost},{label:"Special Type",value:t.specialType}].map(u=>`${u.label}: ${u.value}`).join(`
`);alert(c)}catch(r){console.error(r)}};return Ne(()=>{document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+i.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+i.img.slice(0,-4)+"_attack.png"})`),Ie.set(!0)}),qe(()=>{Ie.set(!1),clearTimeout(A),clearTimeout(L),clearTimeout(x)}),[j,Q,t,m,g,i,M,T,P,b,k,Z,w,le,()=>Z(t.attackName,t.attackType),()=>Z(t.specialName,t.specialType),()=>w(),()=>le()]}class Oe extends Re{constructor(p){super(),Se(this,p,He,Ae,De,{})}}export{Oe as component};
