import{s as je,n as Pe,o as He,d as Oe,e as de,f as Te,r as Be}from"../chunks/scheduler.DDstejZ8.js";import{S as Ge,i as ze,e as E,s as q,t as A,c as C,a as H,f as w,b as j,d as u,o as _,g as R,h as n,y as pe,j as se,z as ue,A as le,B as Ue}from"../chunks/index.zuC-VyZB.js";import{e as Se}from"../chunks/each.D6YF6ztN.js";import{i as De}from"../chunks/store.TOs4AyKa.js";const he=[{id:1,name:"Demon",img:"demon_creature.png",hp:60,attack:50,attackName:"Slash",attackType:"Normal",speed:60,defense:20,critical:25,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Harvest",specialType:"Lifesteal",specialEffect:"special-effect-1"},{id:2,name:"Lizard",img:"lizard_creature.png",hp:110,attack:30,attackName:"Impale",attackType:"Normal",speed:30,defense:15,critical:15,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Inject",specialType:"Poison",specialEffect:"special-effect-2"}],be=[{id:1,name:"Gust of Hermes",img:"relic1.png",description:"Grants the user's summon +5 speed while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:5,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:0},{id:2,name:"Spark of Zeus",img:"relic2.png",description:"Grants the user's summon +15 attack while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:15,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:150},{id:3,name:"Cup of Dionysus",img:"relic3.png",description:"Grants the user's summon +25 MP regen while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:25,specialMod:0,price:300}],_e=[{id:1,name:"Demon",img:"demon_creature.png",reward:3,hp:60,attack:50,attackType:"Normal",speed:60,defense:20,critical:25},{id:2,name:"Lizard",img:"lizard_creature.png",reward:3,hp:110,attack:30,attackType:"Normal",speed:30,defense:15,critical:15}];function Re(r,l,e){const M=r.slice();return M[37]=l[e],M}function qe(r){let l,e,M,b,t,a,S,k,o,h,s,i,v,f,m,B,K,J,z,Y,Z,N,g,V,P,x,U,te="Attack",L,F,fe="Special Attack",ae,Q,re,ce,W,me,oe,ie,p,y,I,O,D,$="Swap Summon",G,T,ee="View Stats",X,Ee;return{c(){l=E("div"),e=E("div"),M=A("Player HP: "),b=A(r[4]),t=q(),a=E("div"),S=A("Player MP: "),k=A(r[5]),o=q(),h=E("div"),s=A("Enemy HP: "),i=A(r[7]),v=q(),f=E("div"),m=E("img"),J=q(),z=E("div"),Y=E("div"),N=q(),g=E("img"),x=q(),U=E("button"),U.textContent=te,L=q(),F=E("button"),F.textContent=fe,ae=q(),Q=E("div"),re=A(r[8]),ce=q(),W=E("div"),me=A("Experience: "),oe=A(r[0]),ie=q(),p=E("div"),y=A("Drachmas: "),I=A(r[1]),O=q(),D=E("button"),D.textContent=$,G=q(),T=E("button"),T.textContent=ee,this.h()},l(c){l=C(c,"DIV",{class:!0});var d=H(l);e=C(d,"DIV",{});var ge=H(e);M=j(ge,"Player HP: "),b=j(ge,r[4]),ge.forEach(u),t=w(d),a=C(d,"DIV",{});var ke=H(a);S=j(ke,"Player MP: "),k=j(ke,r[5]),ke.forEach(u),o=w(d),h=C(d,"DIV",{});var ve=H(h);s=j(ve,"Enemy HP: "),i=j(ve,r[7]),ve.forEach(u),d.forEach(u),v=w(c),f=C(c,"DIV",{class:!0});var ne=H(f);m=C(ne,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),J=w(ne),z=C(ne,"DIV",{class:!0});var Ce=H(z);Y=C(Ce,"DIV",{class:!0}),H(Y).forEach(u),Ce.forEach(u),N=w(ne),g=C(ne,"IMG",{class:!0,src:!0,width:!0,height:!0,alt:!0}),ne.forEach(u),x=w(c),U=C(c,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(U)!=="svelte-1lzhxhg"&&(U.textContent=te),L=w(c),F=C(c,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(F)!=="svelte-11ep6kf"&&(F.textContent=fe),ae=w(c),Q=C(c,"DIV",{class:!0});var Ie=H(Q);re=j(Ie,r[8]),Ie.forEach(u),ce=w(c),W=C(c,"DIV",{class:!0});var Me=H(W);me=j(Me,"Experience: "),oe=j(Me,r[0]),Me.forEach(u),ie=w(c),p=C(c,"DIV",{class:!0});var ye=H(p);y=j(ye,"Drachmas: "),I=j(ye,r[1]),ye.forEach(u),O=w(c),D=C(c,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(D)!=="svelte-1c1ym4l"&&(D.textContent=$),G=w(c),T=C(c,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(T)!=="svelte-z72cka"&&(T.textContent=ee),this.h()},h(){_(l,"class","stats svelte-rqfu9f"),de(m.src,B=r[3].img)||_(m,"src",B),_(m,"width","128px"),_(m,"height","128px"),_(m,"alt",K=r[3].name),_(m,"class","svelte-rqfu9f"),le(m,"attack",r[9]),le(m,"hurt",r[11]),_(Y,"class",Z=Te(r[10]?r[3].specialEffect:"")+" svelte-rqfu9f"),_(z,"class","special-effect-container svelte-rqfu9f"),_(g,"class","enemy-creature svelte-rqfu9f"),de(g.src,V=r[6].img)||_(g,"src",V),_(g,"width","128px"),_(g,"height","128px"),_(g,"alt",P=r[6].name),le(g,"enemy-attack",r[11]),le(g,"enemy-hurt",r[9]),_(f,"class","creatures svelte-rqfu9f"),_(U,"class","svelte-rqfu9f"),_(F,"class","svelte-rqfu9f"),_(Q,"class","combat-alert svelte-rqfu9f"),_(W,"class","experience svelte-rqfu9f"),_(p,"class","drachmas svelte-rqfu9f"),_(D,"class","svelte-rqfu9f"),_(T,"class","svelte-rqfu9f")},m(c,d){R(c,l,d),n(l,e),n(e,M),n(e,b),n(l,t),n(l,a),n(a,S),n(a,k),n(l,o),n(l,h),n(h,s),n(h,i),R(c,v,d),R(c,f,d),n(f,m),n(f,J),n(f,z),n(z,Y),n(f,N),n(f,g),R(c,x,d),R(c,U,d),R(c,L,d),R(c,F,d),R(c,ae,d),R(c,Q,d),n(Q,re),R(c,ce,d),R(c,W,d),n(W,me),n(W,oe),R(c,ie,d),R(c,p,d),n(p,y),n(p,I),R(c,O,d),R(c,D,d),R(c,G,d),R(c,T,d),X||(Ee=[pe(U,"click",r[17]),pe(F,"click",r[18]),pe(D,"click",r[19]),pe(T,"click",r[20])],X=!0)},p(c,d){d[0]&16&&se(b,c[4]),d[0]&32&&se(k,c[5]),d[0]&128&&se(i,c[7]),d[0]&8&&!de(m.src,B=c[3].img)&&_(m,"src",B),d[0]&8&&K!==(K=c[3].name)&&_(m,"alt",K),d[0]&512&&le(m,"attack",c[9]),d[0]&2048&&le(m,"hurt",c[11]),d[0]&1032&&Z!==(Z=Te(c[10]?c[3].specialEffect:"")+" svelte-rqfu9f")&&_(Y,"class",Z),d[0]&64&&!de(g.src,V=c[6].img)&&_(g,"src",V),d[0]&64&&P!==(P=c[6].name)&&_(g,"alt",P),d[0]&2048&&le(g,"enemy-attack",c[11]),d[0]&512&&le(g,"enemy-hurt",c[9]),d[0]&256&&se(re,c[8]),d[0]&1&&se(oe,c[0]),d[0]&2&&se(I,c[1])},d(c){c&&(u(l),u(v),u(f),u(x),u(U),u(L),u(F),u(ae),u(Q),u(ce),u(W),u(ie),u(p),u(O),u(D),u(G),u(T)),X=!1,Be(Ee)}}}function we(r){let l,e,M="Relic Store",b,t,a,S,k,o,h=Se(be),s=[];for(let i=0;i<h.length;i+=1)s[i]=Ae(Re(r,h,i));return{c(){l=E("div"),e=E("h2"),e.textContent=M,b=q(),t=E("p"),a=A("Drachmas: "),S=A(r[1]),k=q(),o=E("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){l=C(i,"DIV",{class:!0});var v=H(l);e=C(v,"H2",{"data-svelte-h":!0}),ue(e)!=="svelte-6gh0hs"&&(e.textContent=M),b=w(v),t=C(v,"P",{});var f=H(t);a=j(f,"Drachmas: "),S=j(f,r[1]),f.forEach(u),k=w(v),o=C(v,"DIV",{});var m=H(o);for(let B=0;B<s.length;B+=1)s[B].l(m);m.forEach(u),v.forEach(u),this.h()},h(){_(l,"class","store svelte-rqfu9f")},m(i,v){R(i,l,v),n(l,e),n(l,b),n(l,t),n(t,a),n(t,S),n(l,k),n(l,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,null)},p(i,v){if(v[0]&2&&se(S,i[1]),v[0]&65540){h=Se(be);let f;for(f=0;f<h.length;f+=1){const m=Re(i,h,f);s[f]?s[f].p(m,v):(s[f]=Ae(m),s[f].c(),s[f].m(o,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=h.length}},d(i){i&&u(l),Ue(s,i)}}}function Ne(r){let l;return{c(){l=A("Active")},l(e){l=j(e,"Active")},m(e,M){R(e,l,M)},d(e){e&&u(l)}}}function Ve(r){let l,e="Buy",M,b;function t(){return r[22](r[37])}return{c(){l=E("button"),l.textContent=e,this.h()},l(a){l=C(a,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(l)!=="svelte-1oeqzjf"&&(l.textContent=e),this.h()},h(){_(l,"class","svelte-rqfu9f")},m(a,S){R(a,l,S),M||(b=pe(l,"click",t),M=!0)},p(a,S){r=a},d(a){a&&u(l),M=!1,b()}}}function Ae(r){let l,e,M,b,t,a=r[37].name+"",S,k,o,h,s,i=r[37].description+"",v,f,m,B,K=r[37].price+"",J,z,Y,Z,N=r[37].id===r[2].id&&Ne(),g=r[37].id!==r[2].id&&Ve(r);return{c(){l=E("div"),e=E("img"),b=q(),t=E("h3"),S=A(a),k=q(),o=E("p"),N&&N.c(),h=q(),s=E("p"),v=A(i),f=q(),m=E("p"),B=A("Price: "),J=A(K),z=A(" drachmas"),Y=q(),g&&g.c(),Z=q(),this.h()},l(V){l=C(V,"DIV",{class:!0});var P=H(l);e=C(P,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),b=w(P),t=C(P,"H3",{});var x=H(t);S=j(x,a),x.forEach(u),k=w(P),o=C(P,"P",{class:!0});var U=H(o);N&&N.l(U),U.forEach(u),h=w(P),s=C(P,"P",{});var te=H(s);v=j(te,i),te.forEach(u),f=w(P),m=C(P,"P",{});var L=H(m);B=j(L,"Price: "),J=j(L,K),z=j(L," drachmas"),L.forEach(u),Y=w(P),g&&g.l(P),Z=w(P),P.forEach(u),this.h()},h(){de(e.src,M=r[37].img)||_(e,"src",M),_(e,"width","46px"),_(e,"height","46px"),_(e,"alt",r[37].name),_(e,"class","svelte-rqfu9f"),_(o,"class","active svelte-rqfu9f"),_(l,"class","relic svelte-rqfu9f")},m(V,P){R(V,l,P),n(l,e),n(l,b),n(l,t),n(t,S),n(l,k),n(l,o),N&&N.m(o,null),n(l,h),n(l,s),n(s,v),n(l,f),n(l,m),n(m,B),n(m,J),n(m,z),n(l,Y),g&&g.m(l,null),n(l,Z)},p(V,P){V[37].id===V[2].id?N||(N=Ne(),N.c(),N.m(o,null)):N&&(N.d(1),N=null),V[37].id!==V[2].id?g?g.p(V,P):(g=Ve(V),g.c(),g.m(l,Z)):g&&(g.d(1),g=null)},d(V){V&&u(l),N&&N.d(),g&&g.d()}}}function Le(r){let l,e,M,b=r[12]?"Close Relic Store":"Open Relic Store",t,a,S,k,o=!r[12]&&qe(r),h=r[12]&&we(r);return{c(){l=E("div"),o&&o.c(),e=q(),M=E("button"),t=A(b),a=q(),h&&h.c(),this.h()},l(s){l=C(s,"DIV",{class:!0});var i=H(l);o&&o.l(i),e=w(i),M=C(i,"BUTTON",{class:!0});var v=H(M);t=j(v,b),v.forEach(u),a=w(i),h&&h.l(i),i.forEach(u),this.h()},h(){_(M,"class","svelte-rqfu9f"),_(l,"class","game-container svelte-rqfu9f")},m(s,i){R(s,l,i),o&&o.m(l,null),n(l,e),n(l,M),n(M,t),n(l,a),h&&h.m(l,null),S||(k=pe(M,"click",r[21]),S=!0)},p(s,i){s[12]?o&&(o.d(1),o=null):o?o.p(s,i):(o=qe(s),o.c(),o.m(l,e)),i[0]&4096&&b!==(b=s[12]?"Close Relic Store":"Open Relic Store")&&se(t,b),s[12]?h?h.p(s,i):(h=we(s),h.c(),h.m(l,null)):h&&(h.d(1),h=null)},i:Pe,o:Pe,d(s){s&&u(l),o&&o.d(),h&&h.d(),S=!1,k()}}}function Je(r,l,e){let M=0,b=0,t=he[0],a=be[0],S=!1,k=t.hp+a.hpMod,o=t.mp+a.mpMod,h=o,s=_e[Math.floor(Math.random()*_e.length)],i=s.hp,v="",f=0,m=!1,B=!1,K=!1,J=null,z=null,Y=null,Z=!1;const N=()=>{if(o!==t.mp+a.mpMod&&o+t.mpRegen+a.mpRegenMod<=t.mp+a.mpMod){e(5,o=o+t.mpRegen+a.mpRegenMod);return}e(5,o=t.mp+a.mpMod)},g=(p,y)=>{if(k-(s.attack-s.attack*p)*y<=0){e(8,v="Defeat!"),e(4,k=0);return}e(4,k=k-(s.attack-s.attack*p)*y)},V=(p,y,I)=>{try{const O=t.speed+a.speedMod;let D=(t.defense+a.defenseMod)/100,$=s.critical/100,G=1,T=!1;if(s.attackType==="Magic"&&(D=0),s.speed<O?T=Math.random()>=.5:T=Math.random()>=.8,f>1&&!T&&!p&&(T=!0),!T&&p&&e(8,v="Enemy was too slow!"),!T&&!p){e(5,o=h),f+=1,L(y,I);return}y===t.attackName&&N(),T&&p&&e(8,v="Both abilities succeeded."),T&&!p&&e(8,v="Your summon was too slow!"),T&&(Math.random()<=$&&(G=1.5),s.attackType==="Poison"&&G===1&&(G=1.5),g(D,G),e(11,K=!0),Y=setTimeout(()=>e(11,K=!1),500))}catch(O){console.error(O)}},P=(p,y,I,O,D)=>{D==="Lifesteal"&&I&&(k+p*y*.2>t.hp+a.hpMod?e(4,k=t.hp+a.hpMod):e(4,k=k+p*y*.2)),V(I,O,D)},x=(p,y,I,O,D)=>{p&&(k+y*I>t.hp+a.hpMod?e(4,k=t.hp+a.hpMod):e(4,k=k+y*I)),V(p,O,D)},U=(p,y,I,O,D,$,G)=>{if(e(5,o=o-I),G!=="Heal"){if(i-(y-y*D)*O<=0&&p){e(7,i=0),e(8,v="Victory!"),e(0,M+=s.reward*2),e(1,b+=s.reward),e(9,m=!0),J=setTimeout(()=>e(9,m=!1),500),e(10,B=!0),z=setTimeout(()=>e(10,B=!1),500);return}p&&(e(7,i=i-(y-y*D)*O),e(9,m=!0),J=setTimeout(()=>e(9,m=!1),500),e(10,B=!0),z=setTimeout(()=>e(10,B=!1),500)),P(y,O,p,$,G);return}x(p,y,O,$,G)},te=()=>{(k<=0||i<=0)&&(e(4,k=t.hp+a.hpMod),e(5,o=t.mp+a.mpMod),e(6,s=_e[Math.floor(Math.random()*_e.length)]),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+s.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+s.img.slice(0,-4)+"_attack.png"})`),e(7,i=s.hp),e(8,v=""))},L=(p,y)=>{try{const I=t.attack+a.attackMod,O=t.speed+a.speedMod,D=(t.critical+a.criticalMod)/100;let $=t.special+a.specialMod,G=t.specialCost,T=s.defense/100,ee=!1,X=1;if(te(),y==="Magic"&&(T=0),O<s.speed?ee=Math.random()>=.5:ee=Math.random()>=.8,Math.random()<=D&&(X=1.5),y==="Poison"&&X===1&&(X=1.5),p===t.attackName){if(i-(I-I*T)*X<=0&&ee){e(7,i=0),e(8,v="Victory!"),e(0,M+=s.reward*2),e(1,b+=s.reward),e(9,m=!0),J=setTimeout(()=>e(9,m=!1),500);return}ee&&(e(7,i=i-(I-I*T)*X),e(9,m=!0),J=setTimeout(()=>e(9,m=!1),500)),V(ee,p,y);return}o>=G?U(ee,$,G,X,T,p,y):e(8,v="Not enough MP!")}catch(I){console.error(I)}},F=()=>{try{if(e(4,k=0),te(),t===he[0]){e(3,t=he[1]),e(4,k=t.hp+a.hpMod),e(5,o=t.mp+a.mpMod),h=o,document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`);return}e(3,t=he[0]),e(4,k=t.hp+a.hpMod),e(5,o=t.mp+a.mpMod),h=o,document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`)}catch(p){console.error(p)}},fe=()=>{try{const y=[{label:"ID",value:t.id},{label:"Name",value:t.name},{label:"HP",value:t.hp+a.hpMod},{label:"Speed",value:t.speed+a.speedMod},{label:"Defense",value:t.defense+a.defenseMod},{label:"Critical",value:t.critical+a.criticalMod},{label:"MP",value:t.mp+a.mpMod},{label:"MP Regen",value:t.mpRegen+a.mpRegenMod},{label:`
Attack Name`,value:t.attackName},{label:"Attack",value:t.attack+a.attackMod},{label:"Attack Type",value:t.attackType},{label:`
Special Name`,value:t.specialName},{label:"Special",value:t.special+a.specialMod},{label:"Special Cost",value:t.specialCost},{label:"Special Type",value:t.specialType}].map(I=>`${I.label}: ${I.value}`).join(`
`);alert(y)}catch(p){console.error(p)}},ae=()=>{S&&(localStorage.setItem("drachmas",b),localStorage.setItem("playerExperience",M),localStorage.setItem("chosenRelic",JSON.stringify(a)))},Q=p=>{if(b>=p.price){e(1,b-=p.price),e(2,a=p),window.location.reload();return}alert("Not enough drachmas!")};He(()=>{try{const p=localStorage.getItem("drachmas"),y=localStorage.getItem("playerExperience"),I=localStorage.getItem("chosenRelic");De.set(!0),document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+s.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+s.img.slice(0,-4)+"_attack.png"})`),p&&e(1,b=parseInt(p)),y&&e(0,M=parseInt(y)),I&&e(2,a=JSON.parse(I)),S=!0}catch(p){console.error(p)}}),Oe(()=>{De.set(!1),clearTimeout(J),clearTimeout(z),clearTimeout(Y)});const re=()=>L(t.attackName,t.attackType),ce=()=>L(t.specialName,t.specialType),W=()=>F(),me=()=>fe(),oe=()=>e(12,Z=!Z),ie=p=>Q(p);return r.$$.update=()=>{r.$$.dirty[0]&7&&ae()},[M,b,a,t,k,o,s,i,v,m,B,K,Z,L,F,fe,Q,re,ce,W,me,oe,ie]}class Qe extends Ge{constructor(l){super(),ze(this,l,Je,Le,je,{},null,[-1,-1])}}export{Qe as component};
