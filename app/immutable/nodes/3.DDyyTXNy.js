import{s as Ke,n as Ne,o as Qe,q as We,u as ke,v as we,r as Xe}from"../chunks/scheduler.DWDrVGHh.js";import{S as xe,i as $e,e as b,s as I,c as j,a as D,f as T,d as m,o as y,g as P,h as n,t as O,y as se,b as A,z as re,A as ie,j as ee,B as Ze}from"../chunks/index.CEOS_bE8.js";import{e as ve}from"../chunks/each.D6YF6ztN.js";import{i as De}from"../chunks/store.3yz4Jc3E.js";const Ie=[{id:1,name:"Mount Olympus",expReq:0,description:"The home of the gods."},{id:2,name:"Countryside",expReq:100,description:"The peaceful countryside, where the sun shines and the birds sing."}],Ce=[{id:1,stageId:1,name:"Demon",img:"demon_creature.png",hp:60,attack:50,attackName:"Slash",attackType:"Normal",speed:60,defense:20,critical:25,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Harvest",specialType:"Lifesteal",specialEffect:"special-effect-1"},{id:2,stageId:1,name:"Lizard",img:"lizard_creature.png",hp:110,attack:30,attackName:"Impale",attackType:"Normal",speed:30,defense:15,critical:15,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Inject",specialType:"Poison",specialEffect:"special-effect-2"},{id:3,stageId:2,name:"Medusa",img:"medusa_creature.png",hp:110,attack:30,attackName:"Gaze",attackType:"Magic",speed:30,defense:15,critical:15,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Petrify",specialType:"Magic",specialEffect:"special-effect-3"},{id:4,stageId:2,name:"Baby Dragon",img:"small_dragon_creature.png",hp:60,attack:50,attackName:"Exhale",attackType:"Magic",speed:60,defense:20,critical:25,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Fireball",specialType:"Magic",specialEffect:"special-effect-4"}],Te=[{id:1,name:"Gust of Hermes",img:"relic1.png",description:"Grants the user's summon +5 speed while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:5,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:0},{id:2,name:"Spark of Zeus",img:"relic2.png",description:"Grants the user's summon +15 attack while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:15,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:150},{id:3,name:"Cup of Dionysus",img:"relic3.png",description:"Grants the user's summon +25 MP regen while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:25,specialMod:0,price:300}],Re=[{id:1,stageId:1,name:"Demon",img:"demon_creature.png",reward:3,hp:60,attack:50,attackType:"Normal",speed:60,defense:20,critical:25},{id:2,stageId:1,name:"Lizard",img:"lizard_creature.png",reward:3,hp:110,attack:30,attackType:"Normal",speed:30,defense:15,critical:15},{id:3,stageId:2,name:"Medusa",img:"medusa_creature.png",reward:5,hp:110,attack:30,attackType:"Magic",speed:30,defense:15,critical:15},{id:4,stageId:2,name:"Baby Dragon",img:"small_dragon_creature.png",reward:5,hp:60,attack:50,attackType:"Magic",speed:60,defense:20,critical:25},{id:5,stageId:3,name:"Skeleton",img:"skeleton_creature.png",reward:12,hp:125,attack:50,attackType:"Normal",speed:30,defense:30,critical:10},{id:6,stageId:3,name:"Skeleton",img:"skeleton_creature_spear.png",reward:12,hp:100,attack:50,attackType:"Normal",speed:40,defense:20,critical:50},{id:7,stageId:3,name:"Skeleton",img:"skeleton_creature_bow.png",reward:12,hp:100,attack:40,attackType:"Normal",speed:70,defense:20,critical:50}];function Ve(a,e,t){const d=a.slice();return d[43]=e[t],d}function Oe(a,e,t){const d=a.slice();return d[46]=e[t],d}function Ae(a){let e,t="Omega Summoners",d,g,_,i,l,c,k,f,s,r,p,o,C,U,N,M,w,H,R,V,S,z,B,J,K,te,Q,W,de="Attack",le,Z,he="Special",ne,X,ce,oe,x,ge,pe,ue,$,_e,fe,h,E,G="Swap Summon",L,q,ae="View Stats",Y,F;return{c(){e=b("h2"),e.textContent=t,d=I(),g=b("div"),_=b("div"),i=O("Player HP: "),l=O(a[5]),c=I(),k=b("div"),f=O("Player MP: "),s=O(a[6]),r=I(),p=b("div"),o=O("Enemy HP: "),C=O(a[8]),U=I(),N=b("div"),M=b("img"),R=I(),V=b("div"),S=b("div"),B=I(),J=b("img"),Q=I(),W=b("button"),W.textContent=de,le=I(),Z=b("button"),Z.textContent=he,ne=I(),X=b("div"),ce=O(a[9]),oe=I(),x=b("div"),ge=O("Experience: "),pe=O(a[0]),ue=I(),$=b("div"),_e=O("Drachmas: "),fe=O(a[1]),h=I(),E=b("button"),E.textContent=G,L=I(),q=b("button"),q.textContent=ae,this.h()},l(u){e=j(u,"H2",{"data-svelte-h":!0}),se(e)!=="svelte-e6xij8"&&(e.textContent=t),d=T(u),g=j(u,"DIV",{class:!0});var v=D(g);_=j(v,"DIV",{});var Me=D(_);i=A(Me,"Player HP: "),l=A(Me,a[5]),Me.forEach(m),c=T(v),k=j(v,"DIV",{});var ye=D(k);f=A(ye,"Player MP: "),s=A(ye,a[6]),ye.forEach(m),r=T(v),p=j(v,"DIV",{});var be=D(p);o=A(be,"Enemy HP: "),C=A(be,a[8]),be.forEach(m),v.forEach(m),U=T(u),N=j(u,"DIV",{class:!0});var me=D(N);M=j(me,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),R=T(me),V=j(me,"DIV",{class:!0});var Se=D(V);S=j(Se,"DIV",{class:!0}),D(S).forEach(m),Se.forEach(m),B=T(me),J=j(me,"IMG",{class:!0,src:!0,width:!0,height:!0,alt:!0}),me.forEach(m),Q=T(u),W=j(u,"BUTTON",{class:!0,"data-svelte-h":!0}),se(W)!=="svelte-1lzhxhg"&&(W.textContent=de),le=T(u),Z=j(u,"BUTTON",{class:!0,"data-svelte-h":!0}),se(Z)!=="svelte-1juglv"&&(Z.textContent=he),ne=T(u),X=j(u,"DIV",{class:!0});var Pe=D(X);ce=A(Pe,a[9]),Pe.forEach(m),oe=T(u),x=j(u,"DIV",{class:!0});var je=D(x);ge=A(je,"Experience: "),pe=A(je,a[0]),je.forEach(m),ue=T(u),$=j(u,"DIV",{class:!0});var Ee=D($);_e=A(Ee,"Drachmas: "),fe=A(Ee,a[1]),Ee.forEach(m),h=T(u),E=j(u,"BUTTON",{class:!0,"data-svelte-h":!0}),se(E)!=="svelte-1c1ym4l"&&(E.textContent=G),L=T(u),q=j(u,"BUTTON",{class:!0,"data-svelte-h":!0}),se(q)!=="svelte-z72cka"&&(q.textContent=ae),this.h()},h(){y(g,"class","stats svelte-r0jj7x"),ke(M.src,w=a[4].img)||y(M,"src",w),y(M,"width","128px"),y(M,"height","128px"),y(M,"alt",H=a[4].name),y(M,"class","svelte-r0jj7x"),re(M,"attack",a[10]),re(M,"hurt",a[12]),y(S,"class",z=we(a[11]?a[4].specialEffect:"")+" svelte-r0jj7x"),y(V,"class","special-effect-container svelte-r0jj7x"),y(J,"class","enemy-creature svelte-r0jj7x"),ke(J.src,K=a[7].img)||y(J,"src",K),y(J,"width","128px"),y(J,"height","128px"),y(J,"alt",te=a[7].name),re(J,"enemy-attack",a[12]),re(J,"enemy-hurt",a[10]),y(N,"class","creatures svelte-r0jj7x"),y(W,"class","svelte-r0jj7x"),y(Z,"class","svelte-r0jj7x"),y(X,"class","combat-alert svelte-r0jj7x"),y(x,"class","experience svelte-r0jj7x"),y($,"class","drachmas svelte-r0jj7x"),y(E,"class","svelte-r0jj7x"),y(q,"class","svelte-r0jj7x")},m(u,v){P(u,e,v),P(u,d,v),P(u,g,v),n(g,_),n(_,i),n(_,l),n(g,c),n(g,k),n(k,f),n(k,s),n(g,r),n(g,p),n(p,o),n(p,C),P(u,U,v),P(u,N,v),n(N,M),n(N,R),n(N,V),n(V,S),n(N,B),n(N,J),P(u,Q,v),P(u,W,v),P(u,le,v),P(u,Z,v),P(u,ne,v),P(u,X,v),n(X,ce),P(u,oe,v),P(u,x,v),n(x,ge),n(x,pe),P(u,ue,v),P(u,$,v),n($,_e),n($,fe),P(u,h,v),P(u,E,v),P(u,L,v),P(u,q,v),Y||(F=[ie(W,"click",a[20]),ie(Z,"click",a[21]),ie(E,"click",a[22]),ie(q,"click",a[23])],Y=!0)},p(u,v){v[0]&32&&ee(l,u[5]),v[0]&64&&ee(s,u[6]),v[0]&256&&ee(C,u[8]),v[0]&16&&!ke(M.src,w=u[4].img)&&y(M,"src",w),v[0]&16&&H!==(H=u[4].name)&&y(M,"alt",H),v[0]&1024&&re(M,"attack",u[10]),v[0]&4096&&re(M,"hurt",u[12]),v[0]&2064&&z!==(z=we(u[11]?u[4].specialEffect:"")+" svelte-r0jj7x")&&y(S,"class",z),v[0]&128&&!ke(J.src,K=u[7].img)&&y(J,"src",K),v[0]&128&&te!==(te=u[7].name)&&y(J,"alt",te),v[0]&4096&&re(J,"enemy-attack",u[12]),v[0]&1024&&re(J,"enemy-hurt",u[10]),v[0]&512&&ee(ce,u[9]),v[0]&1&&ee(pe,u[0]),v[0]&2&&ee(fe,u[1])},d(u){u&&(m(e),m(d),m(g),m(U),m(N),m(Q),m(W),m(le),m(Z),m(ne),m(X),m(oe),m(x),m(ue),m($),m(h),m(E),m(L),m(q)),Y=!1,Xe(F)}}}function He(a){let e,t=a[13]?"Close Relic Store":"Open Relic Store",d,g,_;return{c(){e=b("button"),d=O(t),this.h()},l(i){e=j(i,"BUTTON",{class:!0});var l=D(e);d=A(l,t),l.forEach(m),this.h()},h(){y(e,"class","svelte-r0jj7x")},m(i,l){P(i,e,l),n(e,d),g||(_=ie(e,"click",a[24]),g=!0)},p(i,l){l[0]&8192&&t!==(t=i[13]?"Close Relic Store":"Open Relic Store")&&ee(d,t)},d(i){i&&m(e),g=!1,_()}}}function Be(a){let e,t=a[14]?"Close Stage Menu":"Open Stage Menu",d,g,_;return{c(){e=b("button"),d=O(t),this.h()},l(i){e=j(i,"BUTTON",{class:!0});var l=D(e);d=A(l,t),l.forEach(m),this.h()},h(){y(e,"class","svelte-r0jj7x")},m(i,l){P(i,e,l),n(e,d),g||(_=ie(e,"click",a[25]),g=!0)},p(i,l){l[0]&16384&&t!==(t=i[14]?"Close Stage Menu":"Open Stage Menu")&&ee(d,t)},d(i){i&&m(e),g=!1,_()}}}function qe(a){let e,t,d="Relic Store",g,_,i,l,c,k,f=ve(Te),s=[];for(let r=0;r<f.length;r+=1)s[r]=Ue(Oe(a,f,r));return{c(){e=b("div"),t=b("h2"),t.textContent=d,g=I(),_=b("p"),i=O("Drachmas: "),l=O(a[1]),c=I(),k=b("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=j(r,"DIV",{class:!0});var p=D(e);t=j(p,"H2",{"data-svelte-h":!0}),se(t)!=="svelte-6gh0hs"&&(t.textContent=d),g=T(p),_=j(p,"P",{});var o=D(_);i=A(o,"Drachmas: "),l=A(o,a[1]),o.forEach(m),c=T(p),k=j(p,"DIV",{});var C=D(k);for(let U=0;U<s.length;U+=1)s[U].l(C);C.forEach(m),p.forEach(m),this.h()},h(){y(e,"class","menu svelte-r0jj7x")},m(r,p){P(r,e,p),n(e,t),n(e,g),n(e,_),n(_,i),n(_,l),n(e,c),n(e,k);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(k,null)},p(r,p){if(p[0]&2&&ee(l,r[1]),p[0]&262152){f=ve(Te);let o;for(o=0;o<f.length;o+=1){const C=Oe(r,f,o);s[o]?s[o].p(C,p):(s[o]=Ue(C),s[o].c(),s[o].m(k,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=f.length}},d(r){r&&m(e),Ze(s,r)}}}function Ge(a){let e;return{c(){e=O("Active")},l(t){e=A(t,"Active")},m(t,d){P(t,e,d)},d(t){t&&m(e)}}}function ze(a){let e,t="Buy",d,g;function _(){return a[26](a[46])}return{c(){e=b("button"),e.textContent=t,this.h()},l(i){e=j(i,"BUTTON",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-1oeqzjf"&&(e.textContent=t),this.h()},h(){y(e,"class","svelte-r0jj7x")},m(i,l){P(i,e,l),d||(g=ie(e,"click",_),d=!0)},p(i,l){a=i},d(i){i&&m(e),d=!1,g()}}}function Ue(a){let e,t,d,g,_,i=a[46].name+"",l,c,k,f,s,r=a[46].description+"",p,o,C,U,N=a[46].price+"",M,w,H,R,V=a[46].id===a[3].id&&Ge(),S=a[46].id!==a[3].id&&ze(a);return{c(){e=b("div"),t=b("img"),g=I(),_=b("h3"),l=O(i),c=I(),k=b("p"),V&&V.c(),f=I(),s=b("p"),p=O(r),o=I(),C=b("p"),U=O("Price: "),M=O(N),w=O(" drachmas"),H=I(),S&&S.c(),R=I(),this.h()},l(z){e=j(z,"DIV",{class:!0});var B=D(e);t=j(B,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),g=T(B),_=j(B,"H3",{});var J=D(_);l=A(J,i),J.forEach(m),c=T(B),k=j(B,"P",{class:!0});var K=D(k);V&&V.l(K),K.forEach(m),f=T(B),s=j(B,"P",{});var te=D(s);p=A(te,r),te.forEach(m),o=T(B),C=j(B,"P",{});var Q=D(C);U=A(Q,"Price: "),M=A(Q,N),w=A(Q," drachmas"),Q.forEach(m),H=T(B),S&&S.l(B),R=T(B),B.forEach(m),this.h()},h(){ke(t.src,d=a[46].img)||y(t,"src",d),y(t,"width","46px"),y(t,"height","46px"),y(t,"alt",a[46].name),y(t,"class","svelte-r0jj7x"),y(k,"class","active svelte-r0jj7x"),y(e,"class","menu-item svelte-r0jj7x")},m(z,B){P(z,e,B),n(e,t),n(e,g),n(e,_),n(_,l),n(e,c),n(e,k),V&&V.m(k,null),n(e,f),n(e,s),n(s,p),n(e,o),n(e,C),n(C,U),n(C,M),n(C,w),n(e,H),S&&S.m(e,null),n(e,R)},p(z,B){z[46].id===z[3].id?V||(V=Ge(),V.c(),V.m(k,null)):V&&(V.d(1),V=null),z[46].id!==z[3].id?S?S.p(z,B):(S=ze(z),S.c(),S.m(e,R)):S&&(S.d(1),S=null)},d(z){z&&m(e),V&&V.d(),S&&S.d()}}}function Le(a){let e,t,d="Stage Menu",g,_,i,l,c,k,f=ve(Ie),s=[];for(let r=0;r<f.length;r+=1)s[r]=Ye(Ve(a,f,r));return{c(){e=b("div"),t=b("h2"),t.textContent=d,g=I(),_=b("p"),i=O("Experience: "),l=O(a[0]),c=I(),k=b("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=j(r,"DIV",{class:!0});var p=D(e);t=j(p,"H2",{"data-svelte-h":!0}),se(t)!=="svelte-g69gsb"&&(t.textContent=d),g=T(p),_=j(p,"P",{});var o=D(_);i=A(o,"Experience: "),l=A(o,a[0]),o.forEach(m),c=T(p),k=j(p,"DIV",{});var C=D(k);for(let U=0;U<s.length;U+=1)s[U].l(C);C.forEach(m),p.forEach(m),this.h()},h(){y(e,"class","menu svelte-r0jj7x")},m(r,p){P(r,e,p),n(e,t),n(e,g),n(e,_),n(_,i),n(_,l),n(e,c),n(e,k);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(k,null)},p(r,p){if(p[0]&1&&ee(l,r[0]),p[0]&524292){f=ve(Ie);let o;for(o=0;o<f.length;o+=1){const C=Ve(r,f,o);s[o]?s[o].p(C,p):(s[o]=Ye(C),s[o].c(),s[o].m(k,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=f.length}},d(r){r&&m(e),Ze(s,r)}}}function Je(a){let e;return{c(){e=O("Active")},l(t){e=A(t,"Active")},m(t,d){P(t,e,d)},d(t){t&&m(e)}}}function Fe(a){let e,t="Battle",d,g;function _(){return a[27](a[43])}return{c(){e=b("button"),e.textContent=t,this.h()},l(i){e=j(i,"BUTTON",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-1pn67pp"&&(e.textContent=t),this.h()},h(){y(e,"class","svelte-r0jj7x")},m(i,l){P(i,e,l),d||(g=ie(e,"click",_),d=!0)},p(i,l){a=i},d(i){i&&m(e),d=!1,g()}}}function Ye(a){let e,t,d=a[43].name+"",g,_,i,l,c,k=a[43].description+"",f,s,r,p,o=a[43].expReq+"",C,U,N,M=a[43].id===a[2].id&&Je(),w=a[43].id!==a[2].id&&Fe(a);return{c(){e=b("div"),t=b("h3"),g=O(d),_=I(),i=b("p"),M&&M.c(),l=I(),c=b("p"),f=O(k),s=I(),r=b("p"),p=O("Experience requirement: "),C=O(o),U=I(),w&&w.c(),N=I(),this.h()},l(H){e=j(H,"DIV",{class:!0});var R=D(e);t=j(R,"H3",{});var V=D(t);g=A(V,d),V.forEach(m),_=T(R),i=j(R,"P",{class:!0});var S=D(i);M&&M.l(S),S.forEach(m),l=T(R),c=j(R,"P",{});var z=D(c);f=A(z,k),z.forEach(m),s=T(R),r=j(R,"P",{});var B=D(r);p=A(B,"Experience requirement: "),C=A(B,o),B.forEach(m),U=T(R),w&&w.l(R),N=T(R),R.forEach(m),this.h()},h(){y(i,"class","active svelte-r0jj7x"),y(e,"class","menu-item svelte-r0jj7x")},m(H,R){P(H,e,R),n(e,t),n(t,g),n(e,_),n(e,i),M&&M.m(i,null),n(e,l),n(e,c),n(c,f),n(e,s),n(e,r),n(r,p),n(r,C),n(e,U),w&&w.m(e,null),n(e,N)},p(H,R){H[43].id===H[2].id?M||(M=Je(),M.c(),M.m(i,null)):M&&(M.d(1),M=null),H[43].id!==H[2].id?w?w.p(H,R):(w=Fe(H),w.c(),w.m(e,N)):w&&(w.d(1),w=null)},d(H){H&&m(e),M&&M.d(),w&&w.d()}}}function et(a){let e,t,d,g,_,i=!a[13]&&!a[14]&&Ae(a),l=!a[14]&&He(a),c=!a[13]&&Be(a),k=a[13]&&qe(a),f=a[14]&&Le(a);return{c(){e=b("div"),i&&i.c(),t=I(),l&&l.c(),d=I(),c&&c.c(),g=I(),k&&k.c(),_=I(),f&&f.c(),this.h()},l(s){e=j(s,"DIV",{class:!0});var r=D(e);i&&i.l(r),t=T(r),l&&l.l(r),d=T(r),c&&c.l(r),g=T(r),k&&k.l(r),_=T(r),f&&f.l(r),r.forEach(m),this.h()},h(){y(e,"class","game-container svelte-r0jj7x")},m(s,r){P(s,e,r),i&&i.m(e,null),n(e,t),l&&l.m(e,null),n(e,d),c&&c.m(e,null),n(e,g),k&&k.m(e,null),n(e,_),f&&f.m(e,null)},p(s,r){!s[13]&&!s[14]?i?i.p(s,r):(i=Ae(s),i.c(),i.m(e,t)):i&&(i.d(1),i=null),s[14]?l&&(l.d(1),l=null):l?l.p(s,r):(l=He(s),l.c(),l.m(e,d)),s[13]?c&&(c.d(1),c=null):c?c.p(s,r):(c=Be(s),c.c(),c.m(e,g)),s[13]?k?k.p(s,r):(k=qe(s),k.c(),k.m(e,_)):k&&(k.d(1),k=null),s[14]?f?f.p(s,r):(f=Le(s),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:Ne,o:Ne,d(s){s&&m(e),i&&i.d(),l&&l.d(),c&&c.d(),k&&k.d(),f&&f.d()}}}function tt(a,e,t){let d=0,g=0,_=Ie[0],i=Ce.filter(h=>h.stageId===_.id),l=i[0],c=Te[0],k=!1,f=l.hp+c.hpMod,s=l.mp+c.mpMod,r=Re.filter(h=>h.stageId===_.id),p=r[Math.floor(Math.random()*r.length)],o=p.hp,C="",U=0,N=!1,M=!1,w=!1,H=null,R=null,V=null,S=!1,z=!1;const B=()=>{if(s!==l.mp+c.mpMod&&s+l.mpRegen+c.mpRegenMod<=l.mp+c.mpMod){t(6,s=s+l.mpRegen+c.mpRegenMod);return}t(6,s=l.mp+c.mpMod)},J=(h,E)=>{if(f-(p.attack-p.attack*h)*E<=0){t(9,C="Defeat!"),t(5,f=0);return}t(5,f=f-(p.attack-p.attack*h)*E)},K=(h,E,G)=>{try{const L=l.speed+c.speedMod;let q=(l.defense+c.defenseMod)/100,ae=p.critical/100,Y=1,F=!1;if(p.attackType==="Magic"&&(q=0),p.speed<L?F=Math.random()>=.5:F=Math.random()>=.8,U>1&&!F&&!h&&(F=!0),!F&&h&&t(9,C="Enemy was too slow!"),!F&&!h){t(6,s=l.mp+c.mpMod),U+=1,le(E,G);return}E===l.attackName&&B(),F&&h&&t(9,C="Both abilities succeeded."),F&&!h&&t(9,C="Your summon was too slow!"),F&&(Math.random()<=ae&&(Y=1.5),p.attackType==="Poison"&&Y===1&&(Y=1.5),J(q,Y),t(12,w=!0),V=setTimeout(()=>t(12,w=!1),500))}catch(L){console.error(L)}},te=(h,E,G,L,q)=>{q==="Lifesteal"&&G&&(f+h*E*.2>l.hp+c.hpMod?t(5,f=l.hp+c.hpMod):t(5,f=f+h*E*.2)),K(G,L,q)},Q=(h,E,G,L,q)=>{h&&(f+E*G>l.hp+c.hpMod?t(5,f=l.hp+c.hpMod):t(5,f=f+E*G)),K(h,L,q)},W=(h,E,G,L,q,ae,Y)=>{if(t(6,s=s-G),Y!=="Heal"){if(o-(E-E*q)*L<=0&&h){t(8,o=0),t(9,C="Victory!"),t(0,d+=p.reward*2),t(1,g+=p.reward),t(10,N=!0),H=setTimeout(()=>t(10,N=!1),500),t(11,M=!0),R=setTimeout(()=>t(11,M=!1),500);return}h&&(t(8,o=o-(E-E*q)*L),t(10,N=!0),H=setTimeout(()=>t(10,N=!1),500),t(11,M=!0),R=setTimeout(()=>t(11,M=!1),500)),te(E,L,h,ae,Y);return}Q(h,E,L,ae,Y)},de=()=>{(f<=0||o<=0)&&(t(5,f=l.hp+c.hpMod),t(6,s=l.mp+c.mpMod),t(7,p=r[Math.floor(Math.random()*r.length)]),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+p.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+p.img.slice(0,-4)+"_attack.png"})`),t(8,o=p.hp),t(9,C=""))},le=(h,E)=>{try{const G=l.attack+c.attackMod,L=l.speed+c.speedMod,q=(l.critical+c.criticalMod)/100;let ae=l.special+c.specialMod,Y=l.specialCost,F=p.defense/100,u=!1,v=1;if(de(),E==="Magic"&&(F=0),L<p.speed?u=Math.random()>=.5:u=Math.random()>=.8,Math.random()<=q&&(v=1.5),E==="Poison"&&v===1&&(v=1.5),h===l.attackName){if(o-(G-G*F)*v<=0&&u){t(8,o=0),t(9,C="Victory!"),t(0,d+=p.reward*2),t(1,g+=p.reward),t(10,N=!0),H=setTimeout(()=>t(10,N=!1),500);return}u&&(t(8,o=o-(G-G*F)*v),t(10,N=!0),H=setTimeout(()=>t(10,N=!1),500)),K(u,h,E);return}s>=Y?W(u,ae,Y,v,F,h,E):t(9,C="Not enough MP!")}catch(G){console.error(G)}},Z=()=>{try{const h=p;t(5,f=0),de(),t(4,l=Ce.find(E=>E.id===h.id)),t(5,f=l.hp+c.hpMod),t(6,s=l.mp+c.mpMod),document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+l.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+l.img.slice(0,-4)+"_hurt.png"})`)}catch(h){console.error(h)}},he=()=>{try{const E=[{label:"Name",value:l.name},{label:"HP",value:l.hp+c.hpMod},{label:"Speed",value:l.speed+c.speedMod},{label:"Defense",value:l.defense+c.defenseMod},{label:"Critical",value:l.critical+c.criticalMod},{label:"MP",value:l.mp+c.mpMod},{label:"MP Regen",value:l.mpRegen+c.mpRegenMod},{label:`
Attack Name`,value:l.attackName},{label:"Attack",value:l.attack+c.attackMod},{label:"Attack Type",value:l.attackType},{label:`
Special Name`,value:l.specialName},{label:"Special",value:l.special+c.specialMod},{label:"Special Cost",value:l.specialCost},{label:"Special Type",value:l.specialType}].map(G=>`${G.label}: ${G.value}`).join(`
`);alert(E)}catch(h){console.error(h)}},ne=()=>{k&&(localStorage.setItem("drachmas",g),localStorage.setItem("playerExperience",d),localStorage.setItem("chosenRelic",JSON.stringify(c)),localStorage.setItem("curStage",JSON.stringify(_)))},X=h=>{if(g>=h.price){t(1,g-=h.price),t(3,c=h),window.location.reload();return}alert("Not enough drachmas!")},ce=h=>{if(d>=h.expReq){t(2,_=h),window.location.reload();return}alert("Not enough experience!")};Qe(()=>{try{const h=localStorage.getItem("drachmas"),E=localStorage.getItem("playerExperience"),G=localStorage.getItem("chosenRelic"),L=localStorage.getItem("curStage");De.set(!0),h&&t(1,g=parseInt(h)),E&&t(0,d=parseInt(E)),G&&t(3,c=JSON.parse(G)),L&&t(2,_=JSON.parse(L)),i=Ce.filter(q=>q.stageId===_.id),t(4,l=i[0]),t(5,f=l.hp+c.hpMod),t(6,s=l.mp+c.mpMod),document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+l.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+l.img.slice(0,-4)+"_hurt.png"})`),r=Re.filter(q=>q.stageId===_.id),t(7,p=r[Math.floor(Math.random()*r.length)]),t(8,o=p.hp),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+p.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+p.img.slice(0,-4)+"_attack.png"})`),k=!0}catch(h){console.error(h)}}),We(()=>{De.set(!1),clearTimeout(H),clearTimeout(R),clearTimeout(V)});const oe=()=>le(l.attackName,l.attackType),x=()=>le(l.specialName,l.specialType),ge=()=>Z(),pe=()=>he(),ue=()=>t(13,S=!S),$=()=>t(14,z=!z),_e=h=>X(h),fe=h=>ce(h);return a.$$.update=()=>{a.$$.dirty[0]&15&&ne()},[d,g,_,c,l,f,s,p,o,C,N,M,w,S,z,le,Z,he,X,ce,oe,x,ge,pe,ue,$,_e,fe]}class it extends xe{constructor(e){super(),$e(this,e,tt,et,Ke,{},null,[-1,-1])}}export{it as component};
