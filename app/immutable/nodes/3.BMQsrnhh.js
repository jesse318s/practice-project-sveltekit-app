import{s as He,n as Pe,o as Oe,d as Be,e as de,f as Te,r as Ge}from"../chunks/scheduler.DDstejZ8.js";import{S as ze,i as Ue,e as E,s as w,t as j,c as C,a as O,f as N,b as H,d as m,o as g,g as R,h as n,y as pe,j as se,z as me,A as le,B as Le}from"../chunks/index.zuC-VyZB.js";import{e as Se}from"../chunks/each.D6YF6ztN.js";import{i as De}from"../chunks/store.TOs4AyKa.js";const he=[{id:1,name:"Demon",img:"demon_creature.png",hp:60,attack:50,attackName:"Slash",attackType:"Normal",speed:60,defense:20,critical:25,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Harvest",specialType:"Lifesteal",specialEffect:"special-effect-1"},{id:2,name:"Lizard",img:"lizard_creature.png",hp:110,attack:30,attackName:"Impale",attackType:"Normal",speed:30,defense:15,critical:15,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Inject",specialType:"Poison",specialEffect:"special-effect-2"}],be=[{id:1,name:"Gust of Hermes",img:"relic1.png",description:"Grants the user's summon +5 speed while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:5,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:0},{id:2,name:"Spark of Zeus",img:"relic2.png",description:"Grants the user's summon +15 attack while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:15,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:150},{id:3,name:"Cup of Dionysus",img:"relic3.png",description:"Grants the user's summon +25 MP regen while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:25,specialMod:0,price:300}],ge=[{id:1,name:"Demon",img:"demon_creature.png",reward:3,hp:60,attack:50,attackType:"Normal",speed:60,defense:20,critical:25},{id:2,name:"Lizard",img:"lizard_creature.png",reward:3,hp:110,attack:30,attackType:"Normal",speed:30,defense:15,critical:15}];function Re(r,l,e){const M=r.slice();return M[37]=l[e],M}function we(r){let l,e,M,b,t,a,S,k,o,h,s,i,v,u,f,G,K,J,U,Y,Z,V,_,A,P,x,L,te="Attack",q,F,ue="Special Attack",ae,Q,re,ce,W,fe,oe,ie,p,y,I,B,D,$="Swap Summon",z,T,ee="View Stats",X,Ee;return{c(){l=E("div"),e=E("div"),M=j("Player HP: "),b=j(r[4]),t=w(),a=E("div"),S=j("Player MP: "),k=j(r[5]),o=w(),h=E("div"),s=j("Enemy HP: "),i=j(r[7]),v=w(),u=E("div"),f=E("img"),J=w(),U=E("div"),Y=E("div"),V=w(),_=E("img"),x=w(),L=E("button"),L.textContent=te,q=w(),F=E("button"),F.textContent=ue,ae=w(),Q=E("div"),re=j(r[8]),ce=w(),W=E("div"),fe=j("Experience: "),oe=j(r[0]),ie=w(),p=E("div"),y=j("Drachmas: "),I=j(r[1]),B=w(),D=E("button"),D.textContent=$,z=w(),T=E("button"),T.textContent=ee,this.h()},l(c){l=C(c,"DIV",{class:!0});var d=O(l);e=C(d,"DIV",{});var _e=O(e);M=H(_e,"Player HP: "),b=H(_e,r[4]),_e.forEach(m),t=N(d),a=C(d,"DIV",{});var ke=O(a);S=H(ke,"Player MP: "),k=H(ke,r[5]),ke.forEach(m),o=N(d),h=C(d,"DIV",{});var ve=O(h);s=H(ve,"Enemy HP: "),i=H(ve,r[7]),ve.forEach(m),d.forEach(m),v=N(c),u=C(c,"DIV",{class:!0});var ne=O(u);f=C(ne,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),J=N(ne),U=C(ne,"DIV",{class:!0});var Ce=O(U);Y=C(Ce,"DIV",{class:!0}),O(Y).forEach(m),Ce.forEach(m),V=N(ne),_=C(ne,"IMG",{class:!0,src:!0,width:!0,height:!0,alt:!0}),ne.forEach(m),x=N(c),L=C(c,"BUTTON",{class:!0,"data-svelte-h":!0}),me(L)!=="svelte-1lzhxhg"&&(L.textContent=te),q=N(c),F=C(c,"BUTTON",{class:!0,"data-svelte-h":!0}),me(F)!=="svelte-11ep6kf"&&(F.textContent=ue),ae=N(c),Q=C(c,"DIV",{class:!0});var Ie=O(Q);re=H(Ie,r[8]),Ie.forEach(m),ce=N(c),W=C(c,"DIV",{class:!0});var Me=O(W);fe=H(Me,"Experience: "),oe=H(Me,r[0]),Me.forEach(m),ie=N(c),p=C(c,"DIV",{class:!0});var ye=O(p);y=H(ye,"Drachmas: "),I=H(ye,r[1]),ye.forEach(m),B=N(c),D=C(c,"BUTTON",{class:!0,"data-svelte-h":!0}),me(D)!=="svelte-1c1ym4l"&&(D.textContent=$),z=N(c),T=C(c,"BUTTON",{class:!0,"data-svelte-h":!0}),me(T)!=="svelte-z72cka"&&(T.textContent=ee),this.h()},h(){g(l,"class","stats svelte-14m50gr"),de(f.src,G=r[3].img)||g(f,"src",G),g(f,"width","128px"),g(f,"height","128px"),g(f,"alt",K=r[3].name),g(f,"class","svelte-14m50gr"),le(f,"attack",r[9]),le(f,"hurt",r[11]),g(Y,"class",Z=Te(r[10]?r[3].specialEffect:"")+" svelte-14m50gr"),g(U,"class","special-effect-container svelte-14m50gr"),g(_,"class","enemy-creature svelte-14m50gr"),de(_.src,A=r[6].img)||g(_,"src",A),g(_,"width","128px"),g(_,"height","128px"),g(_,"alt",P=r[6].name),le(_,"enemy-attack",r[11]),le(_,"enemy-hurt",r[9]),g(u,"class","creatures svelte-14m50gr"),g(L,"class","svelte-14m50gr"),g(F,"class","svelte-14m50gr"),g(Q,"class","combat-alert svelte-14m50gr"),g(W,"class","experience svelte-14m50gr"),g(p,"class","drachmas svelte-14m50gr"),g(D,"class","svelte-14m50gr"),g(T,"class","svelte-14m50gr")},m(c,d){R(c,l,d),n(l,e),n(e,M),n(e,b),n(l,t),n(l,a),n(a,S),n(a,k),n(l,o),n(l,h),n(h,s),n(h,i),R(c,v,d),R(c,u,d),n(u,f),n(u,J),n(u,U),n(U,Y),n(u,V),n(u,_),R(c,x,d),R(c,L,d),R(c,q,d),R(c,F,d),R(c,ae,d),R(c,Q,d),n(Q,re),R(c,ce,d),R(c,W,d),n(W,fe),n(W,oe),R(c,ie,d),R(c,p,d),n(p,y),n(p,I),R(c,B,d),R(c,D,d),R(c,z,d),R(c,T,d),X||(Ee=[pe(L,"click",r[17]),pe(F,"click",r[18]),pe(D,"click",r[19]),pe(T,"click",r[20])],X=!0)},p(c,d){d[0]&16&&se(b,c[4]),d[0]&32&&se(k,c[5]),d[0]&128&&se(i,c[7]),d[0]&8&&!de(f.src,G=c[3].img)&&g(f,"src",G),d[0]&8&&K!==(K=c[3].name)&&g(f,"alt",K),d[0]&512&&le(f,"attack",c[9]),d[0]&2048&&le(f,"hurt",c[11]),d[0]&1032&&Z!==(Z=Te(c[10]?c[3].specialEffect:"")+" svelte-14m50gr")&&g(Y,"class",Z),d[0]&64&&!de(_.src,A=c[6].img)&&g(_,"src",A),d[0]&64&&P!==(P=c[6].name)&&g(_,"alt",P),d[0]&2048&&le(_,"enemy-attack",c[11]),d[0]&512&&le(_,"enemy-hurt",c[9]),d[0]&256&&se(re,c[8]),d[0]&1&&se(oe,c[0]),d[0]&2&&se(I,c[1])},d(c){c&&(m(l),m(v),m(u),m(x),m(L),m(q),m(F),m(ae),m(Q),m(ce),m(W),m(ie),m(p),m(B),m(D),m(z),m(T)),X=!1,Ge(Ee)}}}function Ne(r){let l,e,M="Relic Store",b,t,a,S,k,o,h=Se(be),s=[];for(let i=0;i<h.length;i+=1)s[i]=je(Re(r,h,i));return{c(){l=E("div"),e=E("h2"),e.textContent=M,b=w(),t=E("p"),a=j("Drachmas: "),S=j(r[1]),k=w(),o=E("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){l=C(i,"DIV",{class:!0});var v=O(l);e=C(v,"H2",{"data-svelte-h":!0}),me(e)!=="svelte-6gh0hs"&&(e.textContent=M),b=N(v),t=C(v,"P",{});var u=O(t);a=H(u,"Drachmas: "),S=H(u,r[1]),u.forEach(m),k=N(v),o=C(v,"DIV",{});var f=O(o);for(let G=0;G<s.length;G+=1)s[G].l(f);f.forEach(m),v.forEach(m),this.h()},h(){g(l,"class","store svelte-14m50gr")},m(i,v){R(i,l,v),n(l,e),n(l,b),n(l,t),n(t,a),n(t,S),n(l,k),n(l,o);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(o,null)},p(i,v){if(v[0]&2&&se(S,i[1]),v[0]&65540){h=Se(be);let u;for(u=0;u<h.length;u+=1){const f=Re(i,h,u);s[u]?s[u].p(f,v):(s[u]=je(f),s[u].c(),s[u].m(o,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=h.length}},d(i){i&&m(l),Le(s,i)}}}function Ve(r){let l;return{c(){l=j("Active")},l(e){l=H(e,"Active")},m(e,M){R(e,l,M)},d(e){e&&m(l)}}}function Ae(r){let l,e="Buy",M,b;function t(){return r[22](r[37])}return{c(){l=E("button"),l.textContent=e,this.h()},l(a){l=C(a,"BUTTON",{class:!0,"data-svelte-h":!0}),me(l)!=="svelte-1oeqzjf"&&(l.textContent=e),this.h()},h(){g(l,"class","svelte-14m50gr")},m(a,S){R(a,l,S),M||(b=pe(l,"click",t),M=!0)},p(a,S){r=a},d(a){a&&m(l),M=!1,b()}}}function je(r){let l,e,M,b,t,a=r[37].name+"",S,k,o,h,s,i=r[37].description+"",v,u,f,G,K=r[37].price+"",J,U,Y,Z,V=r[37].id===r[2].id&&Ve(),_=r[37].id!==r[2].id&&Ae(r);return{c(){l=E("div"),e=E("img"),b=w(),t=E("h3"),S=j(a),k=w(),o=E("p"),V&&V.c(),h=w(),s=E("p"),v=j(i),u=w(),f=E("p"),G=j("Price: "),J=j(K),U=j(" drachmas"),Y=w(),_&&_.c(),Z=w(),this.h()},l(A){l=C(A,"DIV",{class:!0});var P=O(l);e=C(P,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),b=N(P),t=C(P,"H3",{});var x=O(t);S=H(x,a),x.forEach(m),k=N(P),o=C(P,"P",{class:!0});var L=O(o);V&&V.l(L),L.forEach(m),h=N(P),s=C(P,"P",{});var te=O(s);v=H(te,i),te.forEach(m),u=N(P),f=C(P,"P",{});var q=O(f);G=H(q,"Price: "),J=H(q,K),U=H(q," drachmas"),q.forEach(m),Y=N(P),_&&_.l(P),Z=N(P),P.forEach(m),this.h()},h(){de(e.src,M=r[37].img)||g(e,"src",M),g(e,"width","46px"),g(e,"height","46px"),g(e,"alt",r[37].name),g(e,"class","svelte-14m50gr"),g(o,"class","active svelte-14m50gr"),g(l,"class","relic svelte-14m50gr")},m(A,P){R(A,l,P),n(l,e),n(l,b),n(l,t),n(t,S),n(l,k),n(l,o),V&&V.m(o,null),n(l,h),n(l,s),n(s,v),n(l,u),n(l,f),n(f,G),n(f,J),n(f,U),n(l,Y),_&&_.m(l,null),n(l,Z)},p(A,P){A[37].id===A[2].id?V||(V=Ve(),V.c(),V.m(o,null)):V&&(V.d(1),V=null),A[37].id!==A[2].id?_?_.p(A,P):(_=Ae(A),_.c(),_.m(l,Z)):_&&(_.d(1),_=null)},d(A){A&&m(l),V&&V.d(),_&&_.d()}}}function qe(r){let l,e,M,b=r[12]?"Close Relic Store":"Open Relic Store",t,a,S,k,o=!r[12]&&we(r),h=r[12]&&Ne(r);return{c(){l=E("div"),o&&o.c(),e=w(),M=E("button"),t=j(b),a=w(),h&&h.c(),this.h()},l(s){l=C(s,"DIV",{class:!0});var i=O(l);o&&o.l(i),e=N(i),M=C(i,"BUTTON",{class:!0});var v=O(M);t=H(v,b),v.forEach(m),a=N(i),h&&h.l(i),i.forEach(m),this.h()},h(){g(M,"class","svelte-14m50gr"),g(l,"class","game-container svelte-14m50gr")},m(s,i){R(s,l,i),o&&o.m(l,null),n(l,e),n(l,M),n(M,t),n(l,a),h&&h.m(l,null),S||(k=pe(M,"click",r[21]),S=!0)},p(s,i){s[12]?o&&(o.d(1),o=null):o?o.p(s,i):(o=we(s),o.c(),o.m(l,e)),i[0]&4096&&b!==(b=s[12]?"Close Relic Store":"Open Relic Store")&&se(t,b),s[12]?h?h.p(s,i):(h=Ne(s),h.c(),h.m(l,null)):h&&(h.d(1),h=null)},i:Pe,o:Pe,d(s){s&&m(l),o&&o.d(),h&&h.d(),S=!1,k()}}}function Je(r,l,e){let M=0,b=0,t=he[0],a=be[0],S=!1,k=t.hp+a.hpMod,o=t.mp+a.mpMod,h=o,s=ge[Math.floor(Math.random()*ge.length)],i=s.hp,v="",u=0,f=!1,G=!1,K=!1,J=null,U=null,Y=null,Z=!1;const V=()=>{if(o!==t.mp+a.mpMod&&o+t.mpRegen+a.mpRegenMod<=t.mp+a.mpMod){e(5,o=o+t.mpRegen+a.mpRegenMod);return}e(5,o=t.mp+a.mpMod)},_=(p,y)=>{if(k-(s.attack-s.attack*p)*y<=0){e(8,v="Defeat!"),e(4,k=0);return}e(4,k=k-(s.attack-s.attack*p)*y)},A=(p,y,I)=>{try{const B=t.speed+a.speedMod;let D=(t.defense+a.defenseMod)/100,$=s.critical/100,z=1,T=!1;if(s.attackType==="Magic"&&(D=0),s.speed<B?T=Math.random()>=.5:T=Math.random()>=.8,u>1&&!T&&!p&&(T=!0),!T&&p&&e(8,v="Enemy was too slow!"),!T&&!p){e(5,o=h),u+=1,q(y,I);return}y===t.attackName&&V(),T&&p&&e(8,v="Both abilities succeeded."),T&&!p&&e(8,v="Your summon was too slow!"),T&&(Math.random()<=$&&(z=1.5),s.attackType==="Poison"&&z===1&&(z=1.5),_(D,z),e(11,K=!0),Y=setTimeout(()=>e(11,K=!1),500))}catch(B){console.error(B)}},P=(p,y,I,B,D)=>{D==="Lifesteal"&&I&&(k+p*y*.2>t.hp+a.hpMod?e(4,k=t.hp+a.hpMod):e(4,k=k+p*y*.2)),A(I,B,D)},x=(p,y,I,B,D)=>{p&&(k+y*I>t.hp+a.hpMod?e(4,k=t.hp+a.hpMod):e(4,k=k+y*I)),A(p,B,D)},L=(p,y,I,B,D,$,z)=>{if(e(5,o=o-I),z!=="Heal"){if(i-(y-y*D)*B<=0&&p){e(7,i=0),e(8,v="Victory!"),e(0,M+=s.reward*2),e(1,b+=s.reward),e(9,f=!0),J=setTimeout(()=>e(9,f=!1),500),e(10,G=!0),U=setTimeout(()=>e(10,G=!1),500);return}p&&(e(7,i=i-(y-y*D)*B),e(9,f=!0),J=setTimeout(()=>e(9,f=!1),500),e(10,G=!0),U=setTimeout(()=>e(10,G=!1),500)),P(y,B,p,$,z);return}x(p,y,B,$,z)},te=()=>{(k<=0||i<=0)&&(e(4,k=t.hp+a.hpMod),e(5,o=t.mp+a.mpMod),e(6,s=ge[Math.floor(Math.random()*ge.length)]),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+s.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+s.img.slice(0,-4)+"_attack.png"})`),e(7,i=s.hp),e(8,v=""))},q=(p,y)=>{try{const I=t.attack+a.attackMod,B=t.speed+a.speedMod,D=(t.critical+a.criticalMod)/100;let $=t.special+a.specialMod,z=t.specialCost,T=s.defense/100,ee=!1,X=1;if(te(),y==="Magic"&&(T=0),B<s.speed?ee=Math.random()>=.5:ee=Math.random()>=.8,Math.random()<=D&&(X=1.5),y==="Poison"&&X===1&&(X=1.5),p===t.attackName){if(i-(I-I*T)*X<=0&&ee){e(7,i=0),e(8,v="Victory!"),e(0,M+=s.reward*2),e(1,b+=s.reward),e(9,f=!0),J=setTimeout(()=>e(9,f=!1),500);return}ee&&(e(7,i=i-(I-I*T)*X),e(9,f=!0),J=setTimeout(()=>e(9,f=!1),500)),A(ee,p,y);return}o>=z?L(ee,$,z,X,T,p,y):e(8,v="Not enough MP!")}catch(I){console.error(I)}},F=()=>{try{if(e(4,k=0),te(),t===he[0]){e(3,t=he[1]),e(4,k=t.hp+a.hpMod),e(5,o=t.mp+a.mpMod),h=o,document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`);return}e(3,t=he[0]),e(4,k=t.hp+a.hpMod),e(5,o=t.mp+a.mpMod),h=o,document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`)}catch(p){console.error(p)}},ue=()=>{try{const y=[{label:"Name",value:t.name},{label:"HP",value:t.hp+a.hpMod},{label:"Speed",value:t.speed+a.speedMod},{label:"Defense",value:t.defense+a.defenseMod},{label:"Critical",value:t.critical+a.criticalMod},{label:"MP",value:t.mp+a.mpMod},{label:"MP Regen",value:t.mpRegen+a.mpRegenMod},{label:`
Attack Name`,value:t.attackName},{label:"Attack",value:t.attack+a.attackMod},{label:"Attack Type",value:t.attackType},{label:`
Special Name`,value:t.specialName},{label:"Special",value:t.special+a.specialMod},{label:"Special Cost",value:t.specialCost},{label:"Special Type",value:t.specialType}].map(I=>`${I.label}: ${I.value}`).join(`
`);alert(y)}catch(p){console.error(p)}},ae=()=>{S&&(localStorage.setItem("drachmas",b),localStorage.setItem("playerExperience",M),localStorage.setItem("chosenRelic",JSON.stringify(a)))},Q=p=>{if(b>=p.price){e(1,b-=p.price),e(2,a=p),window.location.reload();return}alert("Not enough drachmas!")};Oe(()=>{try{const p=localStorage.getItem("drachmas"),y=localStorage.getItem("playerExperience"),I=localStorage.getItem("chosenRelic");De.set(!0),document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+s.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+s.img.slice(0,-4)+"_attack.png"})`),p&&e(1,b=parseInt(p)),y&&e(0,M=parseInt(y)),I&&e(2,a=JSON.parse(I)),S=!0}catch(p){console.error(p)}}),Be(()=>{De.set(!1),clearTimeout(J),clearTimeout(U),clearTimeout(Y)});const re=()=>q(t.attackName,t.attackType),ce=()=>q(t.specialName,t.specialType),W=()=>F(),fe=()=>ue(),oe=()=>e(12,Z=!Z),ie=p=>Q(p);return r.$$.update=()=>{r.$$.dirty[0]&7&&ae()},[M,b,a,t,k,o,s,i,v,f,G,K,Z,q,F,ue,Q,re,ce,W,fe,oe,ie]}class Qe extends ze{constructor(l){super(),Ue(this,l,Je,qe,He,{},null,[-1,-1])}}export{Qe as component};
