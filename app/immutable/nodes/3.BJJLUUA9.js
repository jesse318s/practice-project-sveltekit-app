import{s as Ge,n as De,o as ze,d as Ue,e as fe,f as Re,r as Le}from"../chunks/scheduler.DDstejZ8.js";import{S as qe,i as Je,e as y,s as V,t as O,c as b,a as G,f as A,b as B,d as p,o as d,g as D,h as n,y as me,j as re,z as ce,A as ae,B as Ye}from"../chunks/index.zuC-VyZB.js";import{e as we}from"../chunks/each.D6YF6ztN.js";import{i as Ne}from"../chunks/store.TOs4AyKa.js";const _e=[{id:1,name:"Demon",img:"demon_creature.png",hp:60,attack:50,attackName:"Slash",attackType:"Normal",speed:60,defense:20,critical:25,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Harvest",specialType:"Lifesteal",specialEffect:"special-effect-1"},{id:2,name:"Lizard",img:"lizard_creature.png",hp:110,attack:30,attackName:"Impale",attackType:"Normal",speed:30,defense:15,critical:15,mp:100,mpRegen:25,special:75,specialCost:100,specialName:"Inject",specialType:"Poison",specialEffect:"special-effect-2"}],Ce=[{id:1,name:"Gust of Hermes",img:"relic1.png",description:"Grants the user's summon +5 speed while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:5,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:0},{id:2,name:"Spark of Zeus",img:"relic2.png",description:"Grants the user's summon +15 attack while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:15,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:0,specialMod:0,price:150},{id:3,name:"Cup of Dionysus",img:"relic3.png",description:"Grants the user's summon +25 MP regen while the relic is being used. (Infinite duration, and only one relic can be active at a time)",hpMod:0,attackMod:0,speedMod:0,defenseMod:0,criticalMod:0,mpMod:0,mpRegenMod:25,specialMod:0,price:300}],ge=[{id:1,name:"Demon",img:"demon_creature.png",reward:3,hp:60,attack:50,attackType:"Normal",speed:60,defense:20,critical:25},{id:2,name:"Lizard",img:"lizard_creature.png",reward:3,hp:110,attack:30,attackType:"Normal",speed:30,defense:15,critical:15}];function Ve(a,l,e){const g=a.slice();return g[37]=l[e],g}function Ae(a){let l,e="Omega Summoners",g,f,t,r,R,v,o,_,s,i,h,M,E,z,U,I,Y,Q,Z,T,P,j,w,H,ee,x,J,F,de="Attack",oe,K,he="Special Attack",ie,te,ne,pe,$,u,k,C,N,L,W,q,S,le="Swap Summon",X,se,Ie="View Stats",ve,Pe;return{c(){l=y("h2"),l.textContent=e,g=V(),f=y("div"),t=y("div"),r=O("Player HP: "),R=O(a[4]),v=V(),o=y("div"),_=O("Player MP: "),s=O(a[5]),i=V(),h=y("div"),M=O("Enemy HP: "),E=O(a[7]),z=V(),U=y("div"),I=y("img"),Z=V(),T=y("div"),P=y("div"),w=V(),H=y("img"),J=V(),F=y("button"),F.textContent=de,oe=V(),K=y("button"),K.textContent=he,ie=V(),te=y("div"),ne=O(a[8]),pe=V(),$=y("div"),u=O("Experience: "),k=O(a[0]),C=V(),N=y("div"),L=O("Drachmas: "),W=O(a[1]),q=V(),S=y("button"),S.textContent=le,X=V(),se=y("button"),se.textContent=Ie,this.h()},l(c){l=b(c,"H2",{"data-svelte-h":!0}),ce(l)!=="svelte-e6xij8"&&(l.textContent=e),g=A(c),f=b(c,"DIV",{class:!0});var m=G(f);t=b(m,"DIV",{});var ke=G(t);r=B(ke,"Player HP: "),R=B(ke,a[4]),ke.forEach(p),v=A(m),o=b(m,"DIV",{});var Me=G(o);_=B(Me,"Player MP: "),s=B(Me,a[5]),Me.forEach(p),i=A(m),h=b(m,"DIV",{});var ye=G(h);M=B(ye,"Enemy HP: "),E=B(ye,a[7]),ye.forEach(p),m.forEach(p),z=A(c),U=b(c,"DIV",{class:!0});var ue=G(U);I=b(ue,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),Z=A(ue),T=b(ue,"DIV",{class:!0});var Te=G(T);P=b(Te,"DIV",{class:!0}),G(P).forEach(p),Te.forEach(p),w=A(ue),H=b(ue,"IMG",{class:!0,src:!0,width:!0,height:!0,alt:!0}),ue.forEach(p),J=A(c),F=b(c,"BUTTON",{class:!0,"data-svelte-h":!0}),ce(F)!=="svelte-1lzhxhg"&&(F.textContent=de),oe=A(c),K=b(c,"BUTTON",{class:!0,"data-svelte-h":!0}),ce(K)!=="svelte-11ep6kf"&&(K.textContent=he),ie=A(c),te=b(c,"DIV",{class:!0});var Se=G(te);ne=B(Se,a[8]),Se.forEach(p),pe=A(c),$=b(c,"DIV",{class:!0});var be=G($);u=B(be,"Experience: "),k=B(be,a[0]),be.forEach(p),C=A(c),N=b(c,"DIV",{class:!0});var Ee=G(N);L=B(Ee,"Drachmas: "),W=B(Ee,a[1]),Ee.forEach(p),q=A(c),S=b(c,"BUTTON",{class:!0,"data-svelte-h":!0}),ce(S)!=="svelte-1c1ym4l"&&(S.textContent=le),X=A(c),se=b(c,"BUTTON",{class:!0,"data-svelte-h":!0}),ce(se)!=="svelte-z72cka"&&(se.textContent=Ie),this.h()},h(){d(f,"class","stats svelte-1vttdxp"),fe(I.src,Y=a[3].img)||d(I,"src",Y),d(I,"width","128px"),d(I,"height","128px"),d(I,"alt",Q=a[3].name),d(I,"class","svelte-1vttdxp"),ae(I,"attack",a[9]),ae(I,"hurt",a[11]),d(P,"class",j=Re(a[10]?a[3].specialEffect:"")+" svelte-1vttdxp"),d(T,"class","special-effect-container svelte-1vttdxp"),d(H,"class","enemy-creature svelte-1vttdxp"),fe(H.src,ee=a[6].img)||d(H,"src",ee),d(H,"width","128px"),d(H,"height","128px"),d(H,"alt",x=a[6].name),ae(H,"enemy-attack",a[11]),ae(H,"enemy-hurt",a[9]),d(U,"class","creatures svelte-1vttdxp"),d(F,"class","svelte-1vttdxp"),d(K,"class","svelte-1vttdxp"),d(te,"class","combat-alert svelte-1vttdxp"),d($,"class","experience svelte-1vttdxp"),d(N,"class","drachmas svelte-1vttdxp"),d(S,"class","svelte-1vttdxp"),d(se,"class","svelte-1vttdxp")},m(c,m){D(c,l,m),D(c,g,m),D(c,f,m),n(f,t),n(t,r),n(t,R),n(f,v),n(f,o),n(o,_),n(o,s),n(f,i),n(f,h),n(h,M),n(h,E),D(c,z,m),D(c,U,m),n(U,I),n(U,Z),n(U,T),n(T,P),n(U,w),n(U,H),D(c,J,m),D(c,F,m),D(c,oe,m),D(c,K,m),D(c,ie,m),D(c,te,m),n(te,ne),D(c,pe,m),D(c,$,m),n($,u),n($,k),D(c,C,m),D(c,N,m),n(N,L),n(N,W),D(c,q,m),D(c,S,m),D(c,X,m),D(c,se,m),ve||(Pe=[me(F,"click",a[17]),me(K,"click",a[18]),me(S,"click",a[19]),me(se,"click",a[20])],ve=!0)},p(c,m){m[0]&16&&re(R,c[4]),m[0]&32&&re(s,c[5]),m[0]&128&&re(E,c[7]),m[0]&8&&!fe(I.src,Y=c[3].img)&&d(I,"src",Y),m[0]&8&&Q!==(Q=c[3].name)&&d(I,"alt",Q),m[0]&512&&ae(I,"attack",c[9]),m[0]&2048&&ae(I,"hurt",c[11]),m[0]&1032&&j!==(j=Re(c[10]?c[3].specialEffect:"")+" svelte-1vttdxp")&&d(P,"class",j),m[0]&64&&!fe(H.src,ee=c[6].img)&&d(H,"src",ee),m[0]&64&&x!==(x=c[6].name)&&d(H,"alt",x),m[0]&2048&&ae(H,"enemy-attack",c[11]),m[0]&512&&ae(H,"enemy-hurt",c[9]),m[0]&256&&re(ne,c[8]),m[0]&1&&re(k,c[0]),m[0]&2&&re(W,c[1])},d(c){c&&(p(l),p(g),p(f),p(z),p(U),p(J),p(F),p(oe),p(K),p(ie),p(te),p(pe),p($),p(C),p(N),p(q),p(S),p(X),p(se)),ve=!1,Le(Pe)}}}function je(a){let l,e,g="Relic Store",f,t,r,R,v,o,_=we(Ce),s=[];for(let i=0;i<_.length;i+=1)s[i]=Be(Ve(a,_,i));return{c(){l=y("div"),e=y("h2"),e.textContent=g,f=V(),t=y("p"),r=O("Drachmas: "),R=O(a[1]),v=V(),o=y("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){l=b(i,"DIV",{class:!0});var h=G(l);e=b(h,"H2",{"data-svelte-h":!0}),ce(e)!=="svelte-6gh0hs"&&(e.textContent=g),f=A(h),t=b(h,"P",{});var M=G(t);r=B(M,"Drachmas: "),R=B(M,a[1]),M.forEach(p),v=A(h),o=b(h,"DIV",{});var E=G(o);for(let z=0;z<s.length;z+=1)s[z].l(E);E.forEach(p),h.forEach(p),this.h()},h(){d(l,"class","store svelte-1vttdxp")},m(i,h){D(i,l,h),n(l,e),n(l,f),n(l,t),n(t,r),n(t,R),n(l,v),n(l,o);for(let M=0;M<s.length;M+=1)s[M]&&s[M].m(o,null)},p(i,h){if(h[0]&2&&re(R,i[1]),h[0]&65540){_=we(Ce);let M;for(M=0;M<_.length;M+=1){const E=Ve(i,_,M);s[M]?s[M].p(E,h):(s[M]=Be(E),s[M].c(),s[M].m(o,null))}for(;M<s.length;M+=1)s[M].d(1);s.length=_.length}},d(i){i&&p(l),Ye(s,i)}}}function He(a){let l;return{c(){l=O("Active")},l(e){l=B(e,"Active")},m(e,g){D(e,l,g)},d(e){e&&p(l)}}}function Oe(a){let l,e="Buy",g,f;function t(){return a[22](a[37])}return{c(){l=y("button"),l.textContent=e,this.h()},l(r){l=b(r,"BUTTON",{class:!0,"data-svelte-h":!0}),ce(l)!=="svelte-1oeqzjf"&&(l.textContent=e),this.h()},h(){d(l,"class","svelte-1vttdxp")},m(r,R){D(r,l,R),g||(f=me(l,"click",t),g=!0)},p(r,R){a=r},d(r){r&&p(l),g=!1,f()}}}function Be(a){let l,e,g,f,t,r=a[37].name+"",R,v,o,_,s,i=a[37].description+"",h,M,E,z,U=a[37].price+"",I,Y,Q,Z,T=a[37].id===a[2].id&&He(),P=a[37].id!==a[2].id&&Oe(a);return{c(){l=y("div"),e=y("img"),f=V(),t=y("h3"),R=O(r),v=V(),o=y("p"),T&&T.c(),_=V(),s=y("p"),h=O(i),M=V(),E=y("p"),z=O("Price: "),I=O(U),Y=O(" drachmas"),Q=V(),P&&P.c(),Z=V(),this.h()},l(j){l=b(j,"DIV",{class:!0});var w=G(l);e=b(w,"IMG",{src:!0,width:!0,height:!0,alt:!0,class:!0}),f=A(w),t=b(w,"H3",{});var H=G(t);R=B(H,r),H.forEach(p),v=A(w),o=b(w,"P",{class:!0});var ee=G(o);T&&T.l(ee),ee.forEach(p),_=A(w),s=b(w,"P",{});var x=G(s);h=B(x,i),x.forEach(p),M=A(w),E=b(w,"P",{});var J=G(E);z=B(J,"Price: "),I=B(J,U),Y=B(J," drachmas"),J.forEach(p),Q=A(w),P&&P.l(w),Z=A(w),w.forEach(p),this.h()},h(){fe(e.src,g=a[37].img)||d(e,"src",g),d(e,"width","46px"),d(e,"height","46px"),d(e,"alt",a[37].name),d(e,"class","svelte-1vttdxp"),d(o,"class","active svelte-1vttdxp"),d(l,"class","relic svelte-1vttdxp")},m(j,w){D(j,l,w),n(l,e),n(l,f),n(l,t),n(t,R),n(l,v),n(l,o),T&&T.m(o,null),n(l,_),n(l,s),n(s,h),n(l,M),n(l,E),n(E,z),n(E,I),n(E,Y),n(l,Q),P&&P.m(l,null),n(l,Z)},p(j,w){j[37].id===j[2].id?T||(T=He(),T.c(),T.m(o,null)):T&&(T.d(1),T=null),j[37].id!==j[2].id?P?P.p(j,w):(P=Oe(j),P.c(),P.m(l,Z)):P&&(P.d(1),P=null)},d(j){j&&p(l),T&&T.d(),P&&P.d()}}}function Ze(a){let l,e,g,f=a[12]?"Close Relic Store":"Open Relic Store",t,r,R,v,o=!a[12]&&Ae(a),_=a[12]&&je(a);return{c(){l=y("div"),o&&o.c(),e=V(),g=y("button"),t=O(f),r=V(),_&&_.c(),this.h()},l(s){l=b(s,"DIV",{class:!0});var i=G(l);o&&o.l(i),e=A(i),g=b(i,"BUTTON",{class:!0});var h=G(g);t=B(h,f),h.forEach(p),r=A(i),_&&_.l(i),i.forEach(p),this.h()},h(){d(g,"class","svelte-1vttdxp"),d(l,"class","game-container svelte-1vttdxp")},m(s,i){D(s,l,i),o&&o.m(l,null),n(l,e),n(l,g),n(g,t),n(l,r),_&&_.m(l,null),R||(v=me(g,"click",a[21]),R=!0)},p(s,i){s[12]?o&&(o.d(1),o=null):o?o.p(s,i):(o=Ae(s),o.c(),o.m(l,e)),i[0]&4096&&f!==(f=s[12]?"Close Relic Store":"Open Relic Store")&&re(t,f),s[12]?_?_.p(s,i):(_=je(s),_.c(),_.m(l,null)):_&&(_.d(1),_=null)},i:De,o:De,d(s){s&&p(l),o&&o.d(),_&&_.d(),R=!1,v()}}}function Fe(a,l,e){let g=0,f=0,t=_e[0],r=Ce[0],R=!1,v=t.hp+r.hpMod,o=t.mp+r.mpMod,_=o,s=ge[Math.floor(Math.random()*ge.length)],i=s.hp,h="",M=0,E=!1,z=!1,U=!1,I=null,Y=null,Q=null,Z=!1;const T=()=>{if(o!==t.mp+r.mpMod&&o+t.mpRegen+r.mpRegenMod<=t.mp+r.mpMod){e(5,o=o+t.mpRegen+r.mpRegenMod);return}e(5,o=t.mp+r.mpMod)},P=(u,k)=>{if(v-(s.attack-s.attack*u)*k<=0){e(8,h="Defeat!"),e(4,v=0);return}e(4,v=v-(s.attack-s.attack*u)*k)},j=(u,k,C)=>{try{const N=t.speed+r.speedMod;let L=(t.defense+r.defenseMod)/100,W=s.critical/100,q=1,S=!1;if(s.attackType==="Magic"&&(L=0),s.speed<N?S=Math.random()>=.5:S=Math.random()>=.8,M>1&&!S&&!u&&(S=!0),!S&&u&&e(8,h="Enemy was too slow!"),!S&&!u){e(5,o=_),M+=1,J(k,C);return}k===t.attackName&&T(),S&&u&&e(8,h="Both abilities succeeded."),S&&!u&&e(8,h="Your summon was too slow!"),S&&(Math.random()<=W&&(q=1.5),s.attackType==="Poison"&&q===1&&(q=1.5),P(L,q),e(11,U=!0),Q=setTimeout(()=>e(11,U=!1),500))}catch(N){console.error(N)}},w=(u,k,C,N,L)=>{L==="Lifesteal"&&C&&(v+u*k*.2>t.hp+r.hpMod?e(4,v=t.hp+r.hpMod):e(4,v=v+u*k*.2)),j(C,N,L)},H=(u,k,C,N,L)=>{u&&(v+k*C>t.hp+r.hpMod?e(4,v=t.hp+r.hpMod):e(4,v=v+k*C)),j(u,N,L)},ee=(u,k,C,N,L,W,q)=>{if(e(5,o=o-C),q!=="Heal"){if(i-(k-k*L)*N<=0&&u){e(7,i=0),e(8,h="Victory!"),e(0,g+=s.reward*2),e(1,f+=s.reward),e(9,E=!0),I=setTimeout(()=>e(9,E=!1),500),e(10,z=!0),Y=setTimeout(()=>e(10,z=!1),500);return}u&&(e(7,i=i-(k-k*L)*N),e(9,E=!0),I=setTimeout(()=>e(9,E=!1),500),e(10,z=!0),Y=setTimeout(()=>e(10,z=!1),500)),w(k,N,u,W,q);return}H(u,k,N,W,q)},x=()=>{(v<=0||i<=0)&&(e(4,v=t.hp+r.hpMod),e(5,o=t.mp+r.mpMod),e(6,s=ge[Math.floor(Math.random()*ge.length)]),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+s.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+s.img.slice(0,-4)+"_attack.png"})`),e(7,i=s.hp),e(8,h=""))},J=(u,k)=>{try{const C=t.attack+r.attackMod,N=t.speed+r.speedMod,L=(t.critical+r.criticalMod)/100;let W=t.special+r.specialMod,q=t.specialCost,S=s.defense/100,le=!1,X=1;if(x(),k==="Magic"&&(S=0),N<s.speed?le=Math.random()>=.5:le=Math.random()>=.8,Math.random()<=L&&(X=1.5),k==="Poison"&&X===1&&(X=1.5),u===t.attackName){if(i-(C-C*S)*X<=0&&le){e(7,i=0),e(8,h="Victory!"),e(0,g+=s.reward*2),e(1,f+=s.reward),e(9,E=!0),I=setTimeout(()=>e(9,E=!1),500);return}le&&(e(7,i=i-(C-C*S)*X),e(9,E=!0),I=setTimeout(()=>e(9,E=!1),500)),j(le,u,k);return}o>=q?ee(le,W,q,X,S,u,k):e(8,h="Not enough MP!")}catch(C){console.error(C)}},F=()=>{try{if(e(4,v=0),x(),t===_e[0]){e(3,t=_e[1]),e(4,v=t.hp+r.hpMod),e(5,o=t.mp+r.mpMod),_=o,document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`);return}e(3,t=_e[0]),e(4,v=t.hp+r.hpMod),e(5,o=t.mp+r.mpMod),_=o,document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`)}catch(u){console.error(u)}},de=()=>{try{const k=[{label:"Name",value:t.name},{label:"HP",value:t.hp+r.hpMod},{label:"Speed",value:t.speed+r.speedMod},{label:"Defense",value:t.defense+r.defenseMod},{label:"Critical",value:t.critical+r.criticalMod},{label:"MP",value:t.mp+r.mpMod},{label:"MP Regen",value:t.mpRegen+r.mpRegenMod},{label:`
Attack Name`,value:t.attackName},{label:"Attack",value:t.attack+r.attackMod},{label:"Attack Type",value:t.attackType},{label:`
Special Name`,value:t.specialName},{label:"Special",value:t.special+r.specialMod},{label:"Special Cost",value:t.specialCost},{label:"Special Type",value:t.specialType}].map(C=>`${C.label}: ${C.value}`).join(`
`);alert(k)}catch(u){console.error(u)}},oe=()=>{R&&(localStorage.setItem("drachmas",f),localStorage.setItem("playerExperience",g),localStorage.setItem("chosenRelic",JSON.stringify(r)))},K=u=>{if(f>=u.price){e(1,f-=u.price),e(2,r=u),window.location.reload();return}alert("Not enough drachmas!")};ze(()=>{try{const u=localStorage.getItem("drachmas"),k=localStorage.getItem("playerExperience"),C=localStorage.getItem("chosenRelic");Ne.set(!0),document.documentElement.style.setProperty("--player-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_attack.png"})`),document.documentElement.style.setProperty("--player-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+t.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-hurt",`url(${"/practice-project-sveltekit-app/"+s.img.slice(0,-4)+"_hurt.png"})`),document.documentElement.style.setProperty("--enemy-creature-img-attack",`url(${"/practice-project-sveltekit-app/"+s.img.slice(0,-4)+"_attack.png"})`),u&&e(1,f=parseInt(u)),k&&e(0,g=parseInt(k)),C&&e(2,r=JSON.parse(C)),R=!0}catch(u){console.error(u)}}),Ue(()=>{Ne.set(!1),clearTimeout(I),clearTimeout(Y),clearTimeout(Q)});const he=()=>J(t.attackName,t.attackType),ie=()=>J(t.specialName,t.specialType),te=()=>F(),ne=()=>de(),pe=()=>e(12,Z=!Z),$=u=>K(u);return a.$$.update=()=>{a.$$.dirty[0]&7&&oe()},[g,f,r,t,v,o,s,i,h,E,z,U,Z,J,F,de,K,he,ie,te,ne,pe,$]}class xe extends qe{constructor(l){super(),Je(this,l,Fe,Ze,Ge,{},null,[-1,-1])}}export{xe as component};
